if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(cv,L,bP){var E=function(){var e=cv.maCookiePrefix;return typeof e==="string"?e:"roistat"};var aa=E();var bK=function(){return cv[aa+"Host"]};var bB=false,ab="323",A=13,c5=42,x=bK(),aP="0.2",ao="1.0",dc="roistat_visit_cookie_expire",cl="roistat_visit",aV="roistat_cookies_to_resave",cd="roistat_guid",a0="roistat_next_guid",a6="roistat_first_visit",av="roistat_is_need_listen_requests",bn="roistat_is_save_data_in_cookie",dH="roistat_phone",U="roistat_raw_phone",D="roistat_externalCountersEnabled",aO="roistat_referrer",df="roistat_marker",bo="roistat_marker_old",bI="roistat_ab",ak="roistat_previous_ab",V="roistat_ab_submit",bR=35*24*60*60,cS="rs",M="roistat",ah="leadhunter_expire",S=5*60*60,bQ="roistat_leadHunterEnabled",r="roistat_leadHunterTargetPagesMap",cK="roistat_leadHunterCallbackSettings",a4="roistat_leadHunterScriptId",ac="roistat_isleadHunterScriptIdActive",bl="roistat_multiwidgetEnabled",cc="roistat_multiwidgetVKEnabled",c2="roistat_multiwidgetVKLink",T="roistat_multiwidgetFBEnabled",dl="roistat_multiwidgetFBLink",cN="roistat_multiwidgetTelegramEnabled",bz="roistat_multiwidgetTelegramLink",cY="roistat_multiwidgetWhatsAppEnabled",bO="roistat_multiwidgetWhatsAppLink",dP="roistat_multiwidgetViberEnabled",cQ="roistat_multiwidgetViberLink",at="roistat_multiwidgetSettings",cZ="roistat_onlineChatEnabled",B="roistat_onlineChatSettings",d=7*24*60*60,c7={expires:d,path:"/"},ap="roistat-promo",ay="roistat-phone",K="roistat-phone-country",aq="roistat-phone-region",N="roistat-phone-number",dz="roistat-phone-tel",bY="country",aX="region",bs="number",cg="tel",Z="get-phone",n="roistat_call_tracking",ad="roistat-js-script",bG="roistat_phone_replacement",bt="roistat_phone_script_data",c4="roistat-visit-id",a7="roistat_metrika_counter_id",j="roistat_marker_from_referrer",bF="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bU="roistat_emailtracking_emails",l="roistat_geo_data",aZ="roistat_promo_code",dB="roistat_proxy_forms",c9="roistat_isMultiDomain",cU=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],cm="roistat_debug",ba="roistat_settings_saved",cB="nocookie",a8=["yandex.ru"],aM="beta_test",cO="roistat_settings_version",ca="roistat-leadhunter-form-template",bE="roistat-leadhunter-pulsator-template",b9="roistat-leadhunter-pulsator-settings",bA="roistat-online-chat-pulsator-template",C="roistat-online-chat-iframe-template",dg="roistat-multiwidget-pulsator-template",f="roistat-multiwidget-pulsator-settings",af="roistat_last_settings_update_time",cI="roistat_authorized_client",aI="roistat_params",dn=50,aW="mobile",p="tablet",b6="desktop",b2=500,dv=1024;
var cp="ru",aD="en",cF={ru:["Русский","Russian"],en:["Английский","English"]},al,s;var cb={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var cn={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false,isAbTestsApplied:false};var c6={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[],onAbTestsApplied:{}};if(cv.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}cv.roistatAlreadyStarted=true;if(cv.roistatCookieDomain){c7.domain=cv.roistatCookieDomain}var cz=function(){return new Date().getTime()};var z=function(dQ){var dR=cz()-bx;var e="["+(dR/1000)+"s] "+dQ;bq=bq+"; "+e;if(typeof console!=="undefined"&&console.log&&bB){console.log(e)}};var u=function(e){var dR=e.split(".");var dQ=dR.length;if(dQ<2){return e}return dR[dQ-2]+"."+dR[dQ-1]};var dh="cllctr."+u(x);cv.roistat={version:ab,getSource:function(){return cn.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(e){cn.visitFromUser=e},registerOnVisitProcessedCallback:function(e){cL(e)},registerOnCalltrackingPhoneReceivedCallback:function(e){bC(e)},disableCallTracking:function(){cb.callTrackingEnabled=false},setCallTrackingManualMode:function(){cb.callTrackingManual=true},setJSONPRequestTimeout:function(e){cb.jsonpRequestTimeout=e},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:"",rawPhone:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){z("Warning: used emailtracking refresh before module init")}},geo:{city:null,country:null,region:null},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null,translate:null},actions:{initWithMessage:null,openChat:null},notificationsCustomHolderSelector:null,isAvailableForCurrentUserAgent:true,pagesFilter:{isEnabled:false,pages:[]}},promoCode:{isEnabled:true},multiwidget:{isEnabled:true,isVisible:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null},whatsApp:{isEnabled:false,link:null},viber:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},registerAbTestCallback:function(e,dQ){if(!cn.isAbTestsApplied&&typeof dQ==="function"){c6.onAbTestsApplied[e]=dQ}},authClientById:function(e){aK(e,bP)},authClientByEmail:function(e){aK(bP,e)},setDeviceParams:function(){if(!cn.isVisitProcessed){z("Visit is not processed, return");return}var e=o();if(e<=0){z("Invalid arguments, return");return}var dR=cv.screen||null;var dQ=cv.navigator||null;var dT={screenWidth:dR!==null?(dR.width||null):null,screenHeight:dR!==null?(dR.height||null):null,screenIsExtended:dR!==null?(dR.isExtended||null):null,screenPixelDepth:dR!==null?(dR.pixelDepth||null):null,screenColorDepth:dR!==null?(dR.colorDepth||null):null,deviceMemory:dQ!==null?(dQ.deviceMemory||null):null,hardwareConcurrency:dQ!==null?(dQ.hardwareConcurrency||null):null,language:dQ!==null?(dQ.language||null):null,maxTouchPoints:dQ!==null?(dQ.maxTouchPoints||null):null,platform:dQ!==null?(dQ.platform||null):null};var dS=R()+"/update-visit-by-device-params?visit="+e+"&v="+ab;for(var dV in dT){if(!dT.hasOwnProperty(dV)){continue}var dU=dT[dV];if(dU===null){continue}dS+="&"+dV+"="+encodeURIComponent(dU)}a5(dS)},setRoistatParams:function(dW,dV,dT,dS,dR){var dX=dW!==null&&dM(dW)?dW:{roistat_param1:dW,roistat_param2:dV,roistat_param3:dT,roistat_param4:dS,roistat_param5:dR};if(!cn.isVisitProcessed){z("Visit is not processed, return");return}var dU=o();if(dU<=0){z("Invalid arguments, return");return}var dY=bd(dX);if(!aY(dY)){z("Has no valid roistat params for visit update, return");return}bk(dY);var e=R()+"/update-visit-by-params?visit="+dU+"&v="+ab;for(var dQ in dY){if(!Object.prototype.hasOwnProperty.call(dY,dQ)){continue}e+="&"+dQ+"="+encodeURIComponent(dY[dQ])}a5(e)}};var bd=function(dS){var e={};for(var dR=1;dR<=dn;dR++){var dQ="roistat_param"+dR;if(!Object.prototype.hasOwnProperty.call(dS,dQ)){continue}var dT=dS[dQ];if(dT!==bP&&dT!==null&&dT.toString().length>0){e[dQ]=dT}}return e};var bk=function(dR){var dT=aI;var dQ=cs.get(dT);var e=JSON.stringify(dR);var dS=dQ===e;if(e!=null&&e.length>0){c0(dR)}if(dS){z("Params already updated, return");return}cs.set(dT,e)};var c0=function(dQ){for(var e=1;e<=dn;e++){var dR="roistat_param"+e;if(dQ.hasOwnProperty(dR)){cv.roistat.page.params[dR]=dQ[dR]}}};var aK=function(e,dS){if(!cn.isVisitProcessed){z("Visit is not processed, return");
return}var dT=e!==bP&&e.length>0,dW=dS!==bP&&dS.length>0;if(!dT&&!dW){z("Invalid client params, return");return}var dU=o();if(dU<=0){z("Invalid arguments, return");return}var dV=cI,dX=cs.get(dV),dR=dT?e:dS;if(dX===dR){z('Client "'+dR+'" is already authorized, return');return}z("Auth client: "+dR);cs.set(dV,dR);var dQ=R()+"/update-visit-by-client?visit="+dU+"&v="+ab;if(dT){dQ+="&client_id="+encodeURIComponent(e)}if(dW){dQ+="&client_email="+encodeURIComponent(dS)}a5(dQ)};var dq=function(dS,dQ){var dR=dS.length;for(var e=0;e<dR;e++){if(dQ===dS[e]){return true}}return false};var ai=function(){return i(aM)>0};var y=function(){return cv.location.protocol+"//"+cv.location.host+cv.location.pathname};var G=function(){if(dJ()){return aW}if(dx()){return p}return b6};var dJ=function(){return cv.innerWidth<=b2};var dx=function(){return cv.innerWidth>b2&&cv.innerWidth<=dv};var be=function(){return cv[aa+"ProjectId"]};var cP=function(){var e=be().replace(/\D/g,"");z("getProjectHash: "+e);return e};var bv=function(e){var dQ=cP();return dq(e,dQ)};var cX=function(e){return JSON.parse(JSON.stringify(e))};var bJ=function(){var dQ=cX(c7),e=parseInt(cs.get(dc));dQ.expires=e>0?e:d;return dQ};var cL=function(e){if(!cn.isVisitProcessed){c6.onVisitProcessed.push(e)}else{e()}};var c1=function(){cn.isVisitProcessed=true;z("[Roistat] visit id set. Processing callbacks");var dQ=c6.onVisitProcessed.length;for(var e=0;e<dQ;e++){c6.onVisitProcessed[e]()}if(cv.roistatVisitCallback!==bP){cv.roistatVisitCallback(cv.roistat.getVisit())}};var bC=function(e){c6.onCallTrackingPhoneReceived.push(e)};var dm=function(){var dQ=c6.onCallTrackingPhoneReceived.length;for(var e=0;e<dQ;e++){c6.onCallTrackingPhoneReceived[e]()}};var aE=function aE(e){c6.onSPAPageChanged.push(e)};var cj=function cj(){z("[Roistat] SPA page changed. Processing callbacks");var dQ=c6.onSPAPageChanged.length;for(var e=0;e<dQ;e++){c6.onSPAPageChanged[e]()}};var ar=function(dT,dS){var dR=dT.className.split(" "),dQ=false,e;for(var e=0;e<dR.length;e++){if(dR[e]===dS){dQ=true;break}}if(!dQ){dR.push(dS);dT.className=dR.join(" ")}};var ck=function(dS,dR){var dQ=dS.className.split(" "),e;for(var e=0;e<dQ.length;e++){if(dQ[e]===dR){dQ.splice(e,1);dS.className=dQ.join(" ");break}}};var aL=function(dR){try{return decodeURIComponent(dR)}catch(dS){var dQ;dQ=w(dR);if(dQ===null){return dR}return dQ}};var b5={visitor_uid:function(){z("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!dM(cv.AMOPIXEL_IDENTIFIER)||!Y(cv.AMOPIXEL_IDENTIFIER.getVisitorUid)){z("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var e=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!a9(e)){z("AmoCrmUID: visitor_uid value must be a string");return null}return e},roistat_yclid:function(){return ae("yclid",false)}};var aH=function(){for(var dQ in b5){var e=b5[dQ]();if(e===null){continue}dA(dQ,e,c7)}};var bp=function(){return["_ym_uid","_ga"].concat(O(b5))};var w=function(dU){var dT={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};var dR="";var dS=0;while(dS<dU.length){var dQ=dU.substring(dS,dS+3);if(Object.prototype.hasOwnProperty.call(dT,dQ)){dR+=dT[dQ];dS+=3}else{dR+=dU.substring(dS,dS+1);dS++}}try{return decodeURIComponent(dR)}catch(dV){return null}};cv.roistatVersion=ab;var bH,an=bv(["860340978620700251","93600421474928811290145"]),J=bv(["97532377849195770346229","592829167247144932861","5920396192098309402868","591183866179479527","19640141722769938679","7517211421734017584031","3101387160241499728","48846105634802027","353439800158189719","89748922669691497827"]),k,cD=true,cJ=decodeURIComponent(L.location.href),bq="",a3="",bx=new Date().getTime(),de=false,cT=cv.roistatPhonePrefix?cv.roistatPhonePrefix:"",dI=cv.roistatPhonePrefixBind?cv.roistatPhonePrefixBind:"",W=cv.roistatCalltrackingScripts&&cv.roistatCalltrackingScripts.join?cv.roistatCalltrackingScripts.join(","):"";var cr=function(e){if(!J){return e}var dQ=e.replace(/^roistat[_-]/,"");return aa+"_"+dQ};var i,dA,dN;i=cv.roistatGetCookie=function(e){var dQ=cr(e);var dR=L.cookie.match(new RegExp("(?:^|; )"+dQ.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));
return dR?aL(dR[1]):bP};dN=function(e,dW,dX){var dU=cr(e);dX=dX||{};var dS=dX.expires;if(typeof dS=="number"&&dS){var dV=new Date();dV.setTime(dV.getTime()+dS*1000);dS=dX.expires=dV}if(dS&&dS.toUTCString){dX.expires=dS.toUTCString()}dW=encodeURIComponent(dW);var dQ=dU+"="+dW;for(var dT in dX){dQ+="; "+dT;var dR=dX[dT];if(dR!==true){dQ+="="+dR}}L.cookie=dQ};dA=cv.roistatSetCookie=function dA(dQ,dT,e){dN(dQ,dT,e);var dS;dS=i(aV);dS=a9(dS)?dS.split(","):[];for(var dR in dS){if(dS[dR]===dQ){return}}dS.push(dQ);dN(aV,dS.join(","),{path:"/"})};var bN=function(dQ,dS,dR){var e=dQ[dS];dQ[dS]=function(){if(e){e.apply(this,arguments)}dR.apply(this,arguments)}};var am=function(dR,dQ,dS){if(dR.addEventListener){dR.addEventListener(dQ,dS,false);return}var e="on"+dQ;if(dR.attachEvent){dR.attachEvent(e,dS);return}if(e in dR){bN(dR,e,dS);return}if(dQ in dR){bN(dR,dQ,dS);return}z("Handler could not be attached")};var q=function(dS,dR){var dQ=dS.length;for(var e=0;e<dQ;e++){dR(dS[e])}};var O=function(e){var dQ=[];bw(e,function(dR,dS){dQ.push(dR)});return dQ};var bw=function(e,dR){for(var dQ in e){if(Object.prototype.hasOwnProperty.call(e,dQ)){dR(dQ,e[dQ])}}};var bD=function(e){return Object.prototype.toString.call(e)==="[object Array]"};var aY=function(dQ){if(typeof dQ!=="object"){return false}for(var e in dQ){if(dQ.hasOwnProperty(e)){return true}}return false};var ds=function(dR){try{var dQ=JSON.parse(dR);if(dQ&&typeof dQ==="object"){return dQ}}catch(dS){}return null};if(L.getElementsByClassName==bP){L.getElementsByClassName=function(dQ){var e=[];var dU=new RegExp("\\b"+dQ+"\\b");var dT=this.getElementsByTagName("*");for(var dS=0;dS<dT.length;dS++){var dR=dT[dS].className;if(dU.test(dR)){e.push(dT[dS])}}return e}}var aN=function(){return String.fromCharCode};var c3=function(dR){var e="";for(var dQ=0;dQ<dR.length;++dQ){e+=aN()(c5^dR.charCodeAt(dQ))}return e};var aU=function(e){return encodeURIComponent(c3(cy.encode(e)))};var cy={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(dR){var e="";var dY,dW,dU,dX,dV,dT,dS;var dQ=0;dR=cy._utf8_encode(dR);while(dQ<dR.length){dY=dR.charCodeAt(dQ++);dW=dR.charCodeAt(dQ++);dU=dR.charCodeAt(dQ++);dX=dY>>2;dV=((dY&3)<<4)|(dW>>4);dT=((dW&15)<<2)|(dU>>6);dS=dU&63;if(isNaN(dW)){dT=dS=64}else{if(isNaN(dU)){dS=64}}e=e+this._keyStr.charAt(dX)+this._keyStr.charAt(dV)+this._keyStr.charAt(dT)+this._keyStr.charAt(dS)}return e},decode:function(dR){var e="";var dY,dW,dU;var dX,dV,dT,dS;var dQ=0;dR=dR.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(dQ<dR.length){dX=this._keyStr.indexOf(dR.charAt(dQ++));dV=this._keyStr.indexOf(dR.charAt(dQ++));dT=this._keyStr.indexOf(dR.charAt(dQ++));dS=this._keyStr.indexOf(dR.charAt(dQ++));dY=(dX<<2)|(dV>>4);dW=((dV&15)<<4)|(dT>>2);dU=((dT&3)<<6)|dS;e=e+String.fromCharCode(dY);if(dT!=64){e=e+String.fromCharCode(dW)}if(dS!=64){e=e+String.fromCharCode(dU)}}e=cy._utf8_decode(e);return e},_utf8_encode:function(dQ){dQ=dQ.replace(/\r\n/g,"\n");var e="";for(var dS=0;dS<dQ.length;dS++){var dR=dQ.charCodeAt(dS);if(dR<128){e+=String.fromCharCode(dR)}else{if((dR>127)&&(dR<2048)){e+=String.fromCharCode((dR>>6)|192);e+=String.fromCharCode((dR&63)|128)}else{e+=String.fromCharCode((dR>>12)|224);e+=String.fromCharCode(((dR>>6)&63)|128);e+=String.fromCharCode((dR&63)|128)}}}return e},_utf8_decode:function(e){var dR="";var dT=0;var dU=0;var dS=0;var dQ=0;while(dT<e.length){dU=e.charCodeAt(dT);if(dU<128){dR+=String.fromCharCode(dU);dT++}else{if((dU>191)&&(dU<224)){dS=e.charCodeAt(dT+1);dR+=String.fromCharCode(((dU&31)<<6)|(dS&63));dT+=2}else{dS=e.charCodeAt(dT+1);dQ=e.charCodeAt(dT+2);dR+=String.fromCharCode(((dU&15)<<12)|((dS&63)<<6)|(dQ&63));dT+=3}}}return dR}};var bX=bX||function(d1,dR){var dT={},dU=dT.lib={},dS=function(){},e=dU.Base={extend:function(d2){dS.prototype=this;var d3=new dS;d2&&d3.mixIn(d2);d3.hasOwnProperty("init")||(d3.init=function(){d3.$super.init.apply(this,arguments)});d3.init.prototype=d3;d3.$super=this;return d3},create:function(){var d2=this.extend();d2.init.apply(d2,arguments);return d2},init:function(){},mixIn:function(d2){for(var d3 in d2){d2.hasOwnProperty(d3)&&(this[d3]=d2[d3])}d2.hasOwnProperty("toString")&&(this.toString=d2.toString)},clone:function(){return this.init.prototype.extend(this)}},dQ=dU.WordArray=e.extend({init:function(d2,d3){d2=this.words=d2||[];this.sigBytes=d3!=dR?d3:4*d2.length},toString:function(d2){return(d2||d0).stringify(this)},concat:function(d2){var d5=this.words,d3=d2.words,d4=this.sigBytes;d2=d2.sigBytes;this.clamp();if(d4%4){for(var d6=0;d6<d2;d6++){d5[d4+d6>>>2]|=(d3[d6>>>2]>>>24-8*(d6%4)&255)<<24-8*((d4+d6)%4)}}else{if(65535<d3.length){for(d6=0;d6<d2;d6+=4){d5[d4+d6>>>2]=d3[d6>>>2]}}else{d5.push.apply(d5,d3)}}this.sigBytes+=d2;return this},clamp:function(){var d2=this.words,d3=this.sigBytes;d2[d3>>>2]&=4294967295<<32-8*(d3%4);d2.length=d1.ceil(d3/4)},clone:function(){var d2=e.clone.call(this);d2.words=this.words.slice(0);return d2},random:function(d2){for(var d4=[],d3=0;d3<d2;d3+=4){d4.push(4294967296*d1.random()|0)
}return new dQ.init(d4,d2)}}),dY=dT.enc={},d0=dY.Hex={stringify:function(d2){var d3=d2.words;d2=d2.sigBytes;for(var d6=[],d5=0;d5<d2;d5++){var d4=d3[d5>>>2]>>>24-8*(d5%4)&255;d6.push((d4>>>4).toString(16));d6.push((d4&15).toString(16))}return d6.join("")},parse:function(d2){for(var d3=d2.length,d5=[],d4=0;d4<d3;d4+=2){d5[d4>>>3]|=parseInt(d2.substr(d4,2),16)<<24-4*(d4%8)}return new dQ.init(d5,d3/2)}},dX=dY.Latin1={stringify:function(d2){var d3=d2.words;d2=d2.sigBytes;for(var d5=[],d4=0;d4<d2;d4++){d5.push(String.fromCharCode(d3[d4>>>2]>>>24-8*(d4%4)&255))}return d5.join("")},parse:function(d2){for(var d3=d2.length,d5=[],d4=0;d4<d3;d4++){d5[d4>>>2]|=(d2.charCodeAt(d4)&255)<<24-8*(d4%4)}return new dQ.init(d5,d3)}},dZ=dY.Utf8={stringify:function(d2){try{return decodeURIComponent(escape(dX.stringify(d2)))}catch(d3){throw Error("Malformed UTF-8 data")}},parse:function(d2){return dX.parse(unescape(encodeURIComponent(d2)))}},dW=dU.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=new dQ.init;this._nDataBytes=0},_append:function(d2){"string"==typeof d2&&(d2=dZ.parse(d2));this._data.concat(d2);this._nDataBytes+=d2.sigBytes},_process:function(d3){var d5=this._data,d8=d5.words,d7=d5.sigBytes,d6=this.blockSize,d2=d7/(4*d6),d2=d3?d1.ceil(d2):d1.max((d2|0)-this._minBufferSize,0);d3=d2*d6;d7=d1.min(4*d3,d7);if(d3){for(var d4=0;d4<d3;d4+=d6){this._doProcessBlock(d8,d4)}d4=d8.splice(0,d3);d5.sigBytes-=d7}return new dQ.init(d4,d7)},clone:function(){var d2=e.clone.call(this);d2._data=this._data.clone();return d2},_minBufferSize:0});dU.Hasher=dW.extend({cfg:e.extend(),init:function(d2){this.cfg=this.cfg.extend(d2);this.reset()},reset:function(){dW.reset.call(this);this._doReset()},update:function(d2){this._append(d2);this._process();return this},finalize:function(d2){d2&&this._append(d2);return this._doFinalize()},blockSize:16,_createHelper:function(d2){return function(d3,d4){return(new d2.init(d4)).finalize(d3)}},_createHmacHelper:function(d2){return function(d3,d4){return(new dV.HMAC.init(d2,d4)).finalize(d3)}}});var dV=dT.algo={};return dT}(Math);(function(dZ){function dR(d3,d4,d1,d6,d2,d5,d0){d3=d3+(d4&d1|~d4&d6)+d2+d0;return(d3<<d5|d3>>>32-d5)+d4}function dT(d3,d4,d1,d6,d2,d5,d0){d3=d3+(d4&d6|d1&~d6)+d2+d0;return(d3<<d5|d3>>>32-d5)+d4}function dU(d3,d4,d1,d6,d2,d5,d0){d3=d3+(d4^d1^d6)+d2+d0;return(d3<<d5|d3>>>32-d5)+d4}function dS(d3,d4,d1,d6,d2,d5,d0){d3=d3+(d1^(d4|~d6))+d2+d0;return(d3<<d5|d3>>>32-d5)+d4}for(var e=bX,dQ=e.lib,dW=dQ.WordArray,dY=dQ.Hasher,dQ=e.algo,dV=[],dX=0;64>dX;dX++){dV[dX]=4294967296*dZ.abs(dZ.sin(dX+1))|0}dQ=dQ.MD5=dY.extend({_doReset:function(){this._hash=new dW.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(eh,ee){for(var em=0;16>em;em++){var eg=ee+em,d3=eh[eg];eh[eg]=(d3<<8|d3>>>24)&16711935|(d3<<24|d3>>>8)&4278255360}var em=this._hash.words,eg=eh[ee+0],d3=eh[ee+1],ef=eh[ee+2],ec=eh[ee+3],ea=eh[ee+4],d8=eh[ee+5],d6=eh[ee+6],d5=eh[ee+7],d4=eh[ee+8],d2=eh[ee+9],d1=eh[ee+10],d0=eh[ee+11],ed=eh[ee+12],eb=eh[ee+13],d9=eh[ee+14],d7=eh[ee+15],el=em[0],ek=em[1],ej=em[2],ei=em[3],el=dR(el,ek,ej,ei,eg,7,dV[0]),ei=dR(ei,el,ek,ej,d3,12,dV[1]),ej=dR(ej,ei,el,ek,ef,17,dV[2]),ek=dR(ek,ej,ei,el,ec,22,dV[3]),el=dR(el,ek,ej,ei,ea,7,dV[4]),ei=dR(ei,el,ek,ej,d8,12,dV[5]),ej=dR(ej,ei,el,ek,d6,17,dV[6]),ek=dR(ek,ej,ei,el,d5,22,dV[7]),el=dR(el,ek,ej,ei,d4,7,dV[8]),ei=dR(ei,el,ek,ej,d2,12,dV[9]),ej=dR(ej,ei,el,ek,d1,17,dV[10]),ek=dR(ek,ej,ei,el,d0,22,dV[11]),el=dR(el,ek,ej,ei,ed,7,dV[12]),ei=dR(ei,el,ek,ej,eb,12,dV[13]),ej=dR(ej,ei,el,ek,d9,17,dV[14]),ek=dR(ek,ej,ei,el,d7,22,dV[15]),el=dT(el,ek,ej,ei,d3,5,dV[16]),ei=dT(ei,el,ek,ej,d6,9,dV[17]),ej=dT(ej,ei,el,ek,d0,14,dV[18]),ek=dT(ek,ej,ei,el,eg,20,dV[19]),el=dT(el,ek,ej,ei,d8,5,dV[20]),ei=dT(ei,el,ek,ej,d1,9,dV[21]),ej=dT(ej,ei,el,ek,d7,14,dV[22]),ek=dT(ek,ej,ei,el,ea,20,dV[23]),el=dT(el,ek,ej,ei,d2,5,dV[24]),ei=dT(ei,el,ek,ej,d9,9,dV[25]),ej=dT(ej,ei,el,ek,ec,14,dV[26]),ek=dT(ek,ej,ei,el,d4,20,dV[27]),el=dT(el,ek,ej,ei,eb,5,dV[28]),ei=dT(ei,el,ek,ej,ef,9,dV[29]),ej=dT(ej,ei,el,ek,d5,14,dV[30]),ek=dT(ek,ej,ei,el,ed,20,dV[31]),el=dU(el,ek,ej,ei,d8,4,dV[32]),ei=dU(ei,el,ek,ej,d4,11,dV[33]),ej=dU(ej,ei,el,ek,d0,16,dV[34]),ek=dU(ek,ej,ei,el,d9,23,dV[35]),el=dU(el,ek,ej,ei,d3,4,dV[36]),ei=dU(ei,el,ek,ej,ea,11,dV[37]),ej=dU(ej,ei,el,ek,d5,16,dV[38]),ek=dU(ek,ej,ei,el,d1,23,dV[39]),el=dU(el,ek,ej,ei,eb,4,dV[40]),ei=dU(ei,el,ek,ej,eg,11,dV[41]),ej=dU(ej,ei,el,ek,ec,16,dV[42]),ek=dU(ek,ej,ei,el,d6,23,dV[43]),el=dU(el,ek,ej,ei,d2,4,dV[44]),ei=dU(ei,el,ek,ej,ed,11,dV[45]),ej=dU(ej,ei,el,ek,d7,16,dV[46]),ek=dU(ek,ej,ei,el,ef,23,dV[47]),el=dS(el,ek,ej,ei,eg,6,dV[48]),ei=dS(ei,el,ek,ej,d5,10,dV[49]),ej=dS(ej,ei,el,ek,d9,15,dV[50]),ek=dS(ek,ej,ei,el,d8,21,dV[51]),el=dS(el,ek,ej,ei,ed,6,dV[52]),ei=dS(ei,el,ek,ej,ec,10,dV[53]),ej=dS(ej,ei,el,ek,d1,15,dV[54]),ek=dS(ek,ej,ei,el,d3,21,dV[55]),el=dS(el,ek,ej,ei,d4,6,dV[56]),ei=dS(ei,el,ek,ej,d7,10,dV[57]),ej=dS(ej,ei,el,ek,d6,15,dV[58]),ek=dS(ek,ej,ei,el,eb,21,dV[59]),el=dS(el,ek,ej,ei,ea,6,dV[60]),ei=dS(ei,el,ek,ej,d0,10,dV[61]),ej=dS(ej,ei,el,ek,ef,15,dV[62]),ek=dS(ek,ej,ei,el,d2,21,dV[63]);
em[0]=em[0]+el|0;em[1]=em[1]+ek|0;em[2]=em[2]+ej|0;em[3]=em[3]+ei|0},_doFinalize:function(){var d2=this._data,d3=d2.words,d0=8*this._nDataBytes,d4=8*d2.sigBytes;d3[d4>>>5]|=128<<24-d4%32;var d1=dZ.floor(d0/4294967296);d3[(d4+64>>>9<<4)+15]=(d1<<8|d1>>>24)&16711935|(d1<<24|d1>>>8)&4278255360;d3[(d4+64>>>9<<4)+14]=(d0<<8|d0>>>24)&16711935|(d0<<24|d0>>>8)&4278255360;d2.sigBytes=4*(d3.length+1);this._process();d2=this._hash;d3=d2.words;for(d0=0;4>d0;d0++){d4=d3[d0],d3[d0]=(d4<<8|d4>>>24)&16711935|(d4<<24|d4>>>8)&4278255360}return d2},clone:function(){var d0=dY.clone.call(this);d0._hash=this._hash.clone();return d0}});e.MD5=dY._createHelper(dQ);e.HmacMD5=dY._createHmacHelper(dQ)})(Math);var bL=function(){return L[aN()(99,111,111,107,105,101)]};var az=function(){dE();var e={c:dk()};return aU(JSON.stringify(e))};var cM=function(){var e=o();return(e===bP||e===null)?cB:e};var dk=function(){var e=[];for(var dQ in cn.cookies){if(!Object.prototype.hasOwnProperty.call(cn.cookies,dQ)){continue}e.push(dQ+"="+cn.cookies[dQ])}return e.join("; ")};var dE=function(){var e=m();for(var dQ in e){if(!Object.prototype.hasOwnProperty.call(e,dQ)){continue}cn.cookies[dQ]=e[dQ]}};var ax=function(e){dA(df,e,bJ());cn.source.marker=e};var au=function(){return i(df)};var g=function(){bw(cv.roistat.page.params,function(dQ,e){cn.pageParams[dQ]=e})};var m=function(){var dS=bL();var dT=dS.split("; ");var e={};for(var dR=0;dR<dT.length;dR++){var dW=dT[dR];if(dW===""){continue}var dQ=dW.split("=");if(dQ.length<2){continue}var dV=dQ[0].trim();var dU=dQ[1].trim();e[dV]=dU}return e};var h=function(){return aN()(104,97,115,104)};var aT=function(e){return e.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var ci={isAvailable:function(){var dQ=false;if(!cv.sessionStorage||!cv.sessionStorage.setItem||!cv.sessionStorage.getItem||!cv.sessionStorage.removeItem){return dQ}try{cv.sessionStorage.setItem("testKey","testValue");dQ=cv.sessionStorage.getItem("testKey")==="testValue";cv.sessionStorage.removeItem("testKey")}catch(dR){return false}return dQ},remove:function(e){if(this.isAvailable()){cv.sessionStorage.removeItem(cr(e))}},setObject:function(e,dQ){if(this.isAvailable()){cv.sessionStorage.setItem(cr(e),JSON.stringify(dQ))}},getObject:function(dQ){var e=null;if(this.isAvailable()){e=cv.sessionStorage.getItem(cr(dQ));e=JSON.parse(e)}return e},set:function(e,dQ){if(this.isAvailable()){cv.sessionStorage.setItem(cr(e),dQ)}},get:function(dQ){var e=null;if(this.isAvailable()){e=cv.sessionStorage.getItem(cr(dQ))}return e}};var cs={isAvailable:function(){var dQ=false;if(!cv.localStorage||!cv.localStorage.setItem||!cv.localStorage.getItem||!cv.localStorage.removeItem){return dQ}try{cv.localStorage.setItem("testKey","testValue");dQ=cv.localStorage.getItem("testKey")==="testValue";cv.localStorage.removeItem("testKey")}catch(dR){return false}return dQ},remove:function(dQ){if(this.isAvailable()){cv.localStorage.removeItem(cr(dQ))}else{var e=new Date(1970,1,1);dA(dQ,"",{expires:e.toUTCString()})}},setObject:function(e,dQ){if(this.isAvailable()){localStorage.setItem(cr(e),JSON.stringify(dQ))}},getObject:function(dQ){var e=null;if(this.isAvailable()){e=localStorage.getItem(cr(dQ));e=ds(e)}return e},set:function(e,dQ){if(this.isAvailable()){localStorage.setItem(cr(e),dQ)}else{if(this.isSaveInCookieEnabled()){dA(e,dQ,c7)}}},save:function(dQ,dR,e){if(this.isAvailable()){localStorage.setItem(cr(dQ),dR)}dA(dQ,dR,e)},get:function(dQ){var e=null;if(this.isAvailable()){e=localStorage.getItem(cr(dQ))}if(e===null){e=i(dQ)}return e},isSaveInCookieEnabled:function(){return this.get(bn)>0},isExternalCountersEnabled:function(){return this.get(D)>0}};var cf=function(){return !ce(L.referrer)?L.referrer:null};var Y=function(e){return typeof e==="function"};var dM=function(e){return typeof e==="object"};var a9=function(e){return typeof e==="string"};var ae=function(dS,dR){dR=typeof dR!=="undefined"?dR:false;var dT=function(dW){var dV=null;var dX=new RegExp("[#&?]("+dS+"=[^#&?]+)");if(dX.test(dW)){dV=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var dU=aL(dV);return dV&&dU?dU:dV};var e=dT(cJ);if(dR){var dQ=L.referrer;if(e===null&&dQ){e=dT(dQ)}}return e};var dj=function(dQ,dR){var e=false;if(dQ&&dR){e=dQ.split(dR).join("")!==dQ}return e};if(ae(cm)==="1"||m()[cm]==="1"){bB=true}var cW=function(){return true};var aR=function(){return cW()?cv.roistatMultiWidgetOnly:cv.roistatOnlineChatOnly};var dD=function(){var dQ=be()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||be()==="4";var e=(cv.location.host==="cloud.roistat.com"||cv.location.host==="cloud-eu.roistat.com")&&cv.location.pathname!=="/user/login"&&cv.location.pathname!=="/user/register";var dS=be()==="349ac99f64416756d4a18e91c71dc95f";var dR=cv.location.host==="datyson.ru"&&cv.location.pathname==="/cloud.html";if((dQ&&!e)||(dS&&!dR)){z("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false};var bj=function(){if("https:"===L.location.protocol){return"https:"
}else{return"http:"}};var X=function(dQ){var e=L.createElement("img");e.src=dQ;z("sendRequestByUrl: "+dQ)};var a5=function(dQ,dS){z("sendApiRequestJSONP: init with url "+dQ);var e=L.createElement("script");e.onload=e.onreadystatechange=function(){var dT=this.readyState?this.readyState:"unknown";z("sendApiRequestJSONP: script state changed to "+dT)};e.src=dQ;if(dS){e.setAttribute("data-roistat-script-id",dS)}e.type="text/javascript";e.async=true;var dR=L.getElementsByTagName("script")[0];dR.parentNode.insertBefore(e,dR);z("sendApiRequestJSONP: script appended")};var b8=function(){if(cn.isCssLoaded){return}(function(){var dQ=L.createElement("link"),e=L.getElementsByTagName("head");dQ.setAttribute("rel","stylesheet");dQ.setAttribute("href",bj()+"//"+x+"/dist/module.css?"+ab);if(e.length>0){cn.isCssLoaded=true;e[0].appendChild(dQ)}})()};var cx=function(){return cC()||dK()};var cC=function(){return br()!==null};var dK=function(){return cu()!==null};var dd=function(){var e=da();if(e!==null){dA(cl,e,bJ())}};var da=function(){return br()||cu()||null};var br=function(){return ae("roistat_visit")};var cu=function(){return cn.visitFromUser};var a=function(dQ,e){if(!e&&(cn.isSettingsUpdating||!L.hasFocus())){z("Already updating settings or document not in focus, return");return}var dR=R()+"/get-settings?v="+ab+"&visit="+dQ;z("Request new settings");cn.isSettingsUpdating=true;a5(dR)};var a1=function(){return cs.get(ba)>0};var du=function(){cs.set(ba,1)};var aG=function(){cs.remove(ca);cs.remove(bE);cs.remove(b9);cs.remove(bA);cs.remove(C);cs.remove(cZ);cs.remove(dg);cs.remove(f)};var co=function(){var dT=function(){return cs.get(cO)};var dS=function(){cs.set(cO,A)};var dQ=function(){return typeof dT()==="string"};var e=function(){var dU=Number(dT())>A;z("Settings Version: settings version change status - "+dU);return dU};var dR=function(){var dU=1000*60*60*24;var dX=dp();var dW=cz()-dX;var dV=dW>dU;z("Settings Version:: expiration day check: lastUpdateTime="+dX+", _lastUpdateTimeDiff="+dW+", _oneDayDiffInMs="+dU+", result="+(dV?1:0));return dV};if(!dQ()){z("Settings Version: set settings version up to 1");dS()}if(dR()||e()){z("Settings Version: clear settings");aG()}};var dF=function(){z("Call: Init");z("Counter version: "+ab);if(ae("roistat_ab_demo")==="1"){z("Roistat initialisation rejected: ab test preview mode");return}bu();cV();if((!aw()||dL())&&!aR()){de=true;bS();H("Created new visit_id: "+o()+" and referrer: "+k)}else{co();dd();var dQ=o();H("Init visit with new visit_id, visit_id: "+dQ+" and referrer: "+k);bZ();bh();db();roistat.visit=dQ;cn.source.marker=au();cv.roistat.geo=cs.getObject(l);var dR=a1();if(!dR){a(dQ)}else{c1()}}cL(dt);cL(dO);var e=be()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||be()==="4";if(e){cL(roistat.setDeviceParams)}};var dt=function(){z("InitExternalCounter");if(!cs.isExternalCountersEnabled()){z("ExternalCounters is not available, return");return}var dR=be();var dQ=I();var dU=dQ?dQ:o();var dT=dR+":"+dU;var e=dR+":"+bX.MD5(bi(L.domain)).toString();var dS=function(dX,dV){var dW=(L.location.protocol==="https:"?"https:":"http:")+"//tech.rtb.mts.ru/roistat?landing="+dV+"&event_type=view&user_id="+dX;var dY=new XMLHttpRequest;dY.open("GET",dW,true);dY.withCredentials=true;dY.onload=function(){if(dY.readyState===4){if(dY.status!==204){console.error(dY.statusText)}}};dY.onerror=function(){console.error(dY.statusText)};dY.send(null)};dS(dT,e);z("InitExternalCounter: script appended")};var P=function(dR){if(!dR.isEnabled){return true}var e=new Date();var dY=new Date().toISOString();var dV=e.getUTCDay()===0?7:e.getDay();var dW=dV===6||dV===7;var dX=false;for(var dT=0;dT<dR.days.length;dT++){if(dV===dR.days[dT]){dX=true}}if(!dX){return false}if(dW&&dR.weekendsTime!==null){var dZ=new Date(dR.weekendsTime.from).toISOString();var dS=new Date(dR.weekendsTime.to).toISOString();return dY>=dZ&&dY<=dS}var dU=new Date(dR.weekdaysTime.from).toISOString();var dQ=new Date(dR.weekdaysTime.to).toISOString();return dY>=dU&&dY<=dQ};var bu=function(){z("Call: initMarker");bH=cA();z("Call: inited marker: "+bH)};var cV=function(){z("Call: initReferrer");k=cf();z("Call: end initReferrer: "+k)};var dO=function(){z("Call: parsing roistat params from url");var dS={};for(var dR=1;dR<=dn;dR++){var dQ="roistat_param"+dR;dS[dQ]=ae(dQ,false)}var e=bd(dS);if(aY(e)&&Object.keys(e).length>0){bk(e)}z("Call: end parsing roistat params from url")};var ce=function(dR){if(!dR){return true}var e=bi(dR);var dQ=bi(L.domain);if(e===dQ){return true}var dS=b7();if(dS===null){return false}if(dj(e,dS)&&dj(dQ,dS)){return true}return false};var b7=function(){if(typeof c7.domain==="string"&&c7.domain!==""){return bi(c7.domain)}return null};var bi=function(e){var dQ=e.split("http://").join("").split("https://").join("").split("www.").join("").replace(/^\./,"");return dQ.split("/")[0]};var cA=function(){var dR=i(j)>0;var dW=null;var e=function(dX){return dX.split("_").join(":u:")};var dS=function(){var dX=false;var dY;dY=ae(M,dR);if(dY!==null){dW=dY;dX=true
}dY=ae(cS,dR);if(dY!==null){dW=dY;dX=true}return dX};var dV=function(){var dX=false;var dY=au();if(dY){dW=dY;dX=true;cD=false}return dX};var dQ=function(){var dX=false;var dZ=ae("utm_source",dR);if(dZ!==null){dX=true;dW=":utm:"+e(dZ);var d1=["utm_medium","utm_campaign","utm_content","utm_term"];var dY;for(var d0=0;d0<d1.length;d0++){dY=ae(d1[d0],dR);if(dY!==null){dW=dW+"_"+e(dY)}}}return dX};var dU=function(){var dZ,dY,dX=false;dY=ae("_openstat",dR);if(!dY){return false}if(dT(dY)){dZ=dY}else{dZ=encodeURI(cy.decode(dY));if(!dT(dZ)){dZ=dY}}if(dZ){dZ=e(dZ).split(";").join("_");dW=":openstat:"+dZ;dX=true}return dX};var dT=function(dX){return dX.match(/^([^;]*(;[^;]*){3})$/)!==null};if(dS()){z("Init marker: init from RS param "+dW);return dW}if(dQ()){z("Init marker: init from UTM "+dW);return dW}if(dU()){z("Init marker: init from OpenStat "+dW);return dW}z("Init marker: try init from cookie "+dW);dV();return dW};var o=function(){return cs.get(cl)};var I=function(){return cs.get(a6)};var ag=function(){z("Call: saveReferrer");cs.set(aO,k)};var ch=function(){z("Call: removeReferrer");cs.remove(aO)};var dr=function(){dA(bo,aL(bH),bJ())};var db=function(){z("Call: refreshPromoCode");if(aR()){z("PromoCode: Shut down because only online chat need to be inited");return}var e=function(){return i(cl)};aC(e());if(!cv.onload){cv.onload=function(){aC(e())}}setTimeout(function(){aC(e())},50);setTimeout(function(){aC(e())},200);setTimeout(function(){aC(e())},2000);setTimeout(function(){aC(e())},10000)};cv.roistatPromoCodeRefresh=db;var dw=function(){var e=[];var dQ=L.getElementsByClassName(ap);if(dQ&&dQ.length){e=dQ}return e};var aC=function(e){var dS=dw();z("setPromoCode: "+e+" in "+dS.length+" elements");for(var dR=0;dR<dS.length;dR++){var dQ=dS[dR];dQ.innerHTML=e?e:""}};var bV=function(){var dR=cA(),dQ=i(bo),dT=dR!==null,dS=true;var dV=aL(aL(dR)).toLowerCase().split("+").join(" "),dU=aL(aL(dQ)).toLowerCase().split("+").join(" ");if(dR&&dQ){dS=dV!==dU}var e=dT&&dS;a3="Call: needOverrideByMarker (result "+(e?"true":"false")+") with current "+dR+":"+dV+" and old "+dQ+":"+dU;z(a3);return e};var aS=function(){var dQ=function(dY){return/[\u0400-\u04FF]/.test(dY)};var dX=false,dU=k,e=cs.get(aO),dW=cv.location.host;if(!dU||!dW){z("Call: needOverrideByReferrer (result "+(dX?"true":"false")+"), skip because one of params is empty");return dX}dW=bi(dW);dU=aL(dU);e=aL(e);var dS=bi(dU);if(dj(dU,"xn--")&&dQ(dW)){z("Call: needOverrideByReferrer (result "+(dX?"true":"false")+"), skip because of bugs with punycode in FF");return dX}if(!dS){z("Call: needOverrideByReferrer (result "+(dX?"true":"false")+"), skip because current referrer is null");return dX}if(!e){dX=!dj(dS,dW);z("Call: needOverrideByReferrer (result "+(dX?"true":"false")+"), compare current referrer and host");return dX}if(dj(dU,e)){z("Call: needOverrideByReferrer (result "+(dX?"true":"false")+"), skip because the same referrer");return dX}var dV=dW.split(".").length>2&&dS.split(".").length>2;var dT=cv.roistatCookieDomain!==bP&&cv.roistatCookieDomain!==dW;var dR=dS.split(".").slice(1).join(".")===dW.split(".").slice(1).join(".");if(dV&&dT&&dR){z("Call: needOverrideByReferrer (result "+(dX?"true":"false")+"), skip because sub domains of same domain");return dX}dX=!(dj(dS,dW)||(dj(dW,dS)));z("Call: needOverrideByReferrer (result "+(dX?"true":"false")+") referrerHost: "+dS+", currentHost: "+dW);return dX};var b0=function(){return ae("utm_nooverride")==="1"};var dL=function(){return !cx()&&!b0()&&(bV()||aS())};var b1=function(dQ,e){return(dQ&&e&&dQ!=e)};var bm=function(dS){var dQ=["cookieExpire"];var dU=dS.leadHunterEnabled;if(Number(cs.get(bQ))!==Number(dS.leadHunterEnabled)){cs.set(bQ,Number(dS.leadHunterEnabled))}if(dU){var dT={expires:S,path:"/"};if(c7.domain){dT.domain=c7.domain}dA(ah,1,dT)}for(var dR in dS){if(!Object.prototype.hasOwnProperty.call(dS,dR)){continue}if(!dU&&dR.indexOf("leadHunter")>=0&&dR.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!aB(dQ,dR)){if(dR.indexOf("leadHunterTargetPagesMap")!==-1){var e=ds(dS[dR]);if(e!==null){cs.setObject("roistat_"+dR,e)}continue}cs.set("roistat_"+dR,dS[dR])}}};var c8=function(e){if(!e){return}roistat.multiwidget={isEnabled:e.is_enabled,isVisible:roistat.multiwidget.isVisible,vk:{isEnabled:e.vk.is_enabled,link:roistat.multiwidget.vk.link||e.vk.link},fb:{isEnabled:e.fb.is_enabled,link:roistat.multiwidget.fb.link||e.fb.link},telegram:{isEnabled:e.telegram.is_enabled,link:roistat.multiwidget.telegram.link||e.telegram.link},whatsApp:{isEnabled:e.whats_app.is_enabled,link:roistat.multiwidget.whatsApp.link||e.whats_app.link},viber:{isEnabled:e.viber.is_enabled,link:roistat.multiwidget.viber.link||e.viber.link}};if(Number(cs.get(bl))!==Number(e.is_enabled)){cs.set(bl,Number(e.is_enabled))}if(Number(cs.get(cc))!==Number(e.vk.is_enabled)){cs.set(cc,Number(e.vk.is_enabled))}if(cs.get(c2)!==roistat.multiwidget.vk.link){cs.set(c2,roistat.multiwidget.vk.link)}if(Number(cs.get(T))!==Number(e.fb.is_enabled)){cs.set(T,Number(e.fb.is_enabled))
}if(cs.get(dl)!==roistat.multiwidget.fb.link){cs.set(dl,roistat.multiwidget.fb.link)}if(Number(cs.get(cN))!==e.telegram.is_enabled){cs.set(cN,Number(e.telegram.is_enabled))}if(cs.get(bz)!==roistat.multiwidget.telegram.link){cs.set(bz,roistat.multiwidget.telegram.link)}if(Number(cs.get(cY))!==e.whats_app.is_enabled){cs.set(cY,Number(e.whats_app.is_enabled))}if(cs.get(bO)!==roistat.multiwidget.whatsApp.link){cs.set(bO,roistat.multiwidget.whatsApp.link)}if(Number(cs.get(dP))!==e.viber.is_enabled){cs.set(dP,Number(e.viber.is_enabled))}if(cs.get(cQ)!==roistat.multiwidget.viber.link){cs.set(cQ,roistat.multiwidget.viber.link)}cs.setObject(at,e)};var cw=function(e){roistat.onlineChat.isEnabled=e.is_enabled;if(Number(cs.get(cZ))!==Number(e.is_enabled)){cs.set(cZ,Number(e.is_enabled))}roistat.onlineChat.isAvailableForCurrentUserAgent=e.advanced_settings.is_available_for_current_user_agent;roistat.onlineChat.pagesFilter=e.advanced_settings.pages_filter;cs.setObject(B,e.advanced_settings)};var v=function(e){cv.roistat.geo=e;cs.setObject(l,e)};var cH=function(e){z("PromoCode: save settings");cs.setObject(aZ,e)};var dG=function(dT,dV,dS,dQ,dU,e,dW,dR){bm(dT);roistat.callTracking.enabled=dV.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=dS.email;roistat.emailtracking.trackingEmail=dS.trackingEmail;roistat.emailtracking.emails=dS.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=dU;c8(e);cw(dW);v(dQ);cH(dR)};cv.roistatModuleSetVisitCookie=function(dU,d2,dS,dQ,d1,dX,e,d4,dW,d3){z("Call: roistatModuleSetVisitCookie("+dU+")");var dY;if(typeof dS.cookieExpire!=="number"){dY=bJ().expires}else{dY=dS.cookieExpire}var dV=i(cl);var d0={expires:dY,path:"/"};if(c7.domain){d0.domain=c7.domain}dA(cl,dU,d0);cs.save(cl,dU,d0);if(!cs.get(a6)){var dR={expires:10*365*24*60*60,path:"/"};if(c7.domain){dR.domain=c7.domain}cs.save(a6,dU,dR)}var dZ=dS.abTests;if((typeof dZ!=="undefined")&&cs.isAvailable()){cs.setObject("abTesting",dZ)}applyTests();var dT=dS.isNeedToListenRequests;if((typeof dT!=="undefined")&&cs.isAvailable()){cs.set(av,dT)}aC(dU);if(d2){ax(d2);dA(bo,d2,d0)}if(cv.roistatCallback!==bP){cv.roistatCallback(dU,d2)}if(!d4){d4={}}dG(dS,dQ,d1,dX,e,d4.multiwidget_settings,dW,d3);roistat.callTracking.phone=dQ.phone;roistat.callTracking.sessionTime=dQ.sessionTime;roistat.callTracking.replacementClasses=dQ.replacementClasses;roistat.callTracking.phoneScriptsJson=dQ.scripts;roistat.callTracking.rawPhone=dQ.raw_phone;roistat.visit=dU;z("Call: pre renderPromoCode");bh();db();if(b1(dV,dU)){z("roistatModuleSetVisitCookie: visit changed from "+dV+" to "+dU)}dm();du();c1()};cv.roistatUpdateSettings=function(e){z("Set settings.");cn.isSettingsUpdating=false;dG(e.js_settings,e.calltracking,e.emailtracking,e.geo,e.proxy_forms,e.multiwidget.multiwidget_settings,e.online_chat,e.promo_code);du();c1()};var aw=function(){var e;if(cv.roistatIsInitVisit===true){e=false}else{e=cs.get(cl)>0}z("Call: alreadyVisited (return "+(e?"true":"false")+")");return e};var c=function(e){return encodeURIComponent?encodeURIComponent(e):encodeURI(e)};var bc=function(){return k?c(k):""};var R=function(){return bj()+"//"+x+"/api/site/"+ao+"/"+be()};var cE=function(){var dQ={expires:1,path:"/"};var e={expires:bR,path:"/"};if(c7.domain){dQ.domain=c7.domain;e.domain=c7.domain}var dR=i(bI);if(dR){dA(ak,dR,e)}dA(bI,"",dQ);dA(V,"",dQ)};var b4=function(){var dQ=cs.getObject("abTesting");if(!dM(dQ)){return""}var dS,dR,e=[];for(dS in dQ){if(!Object.prototype.hasOwnProperty.call(dQ,dS)){continue}dR=dQ[dS];e.push(dR.id+":"+dR.variantId)}return e.join(",")};var bS=function(){z("Call: setVisitIdCookie");var dQ=function(){var d0=be(),dX=bc(),dT=cv.roistatIsInitVisit===true?o():0,dZ=i(bI),dV=i(cd),dU=cs.get(a6);dZ=dZ?dZ:"";dU=dU?dU:"";bH=bH&&(!aS()||cD)?aL(aL(bH)):"";H("Init visit with visit id from cookie, visit_id: "+dT+" and referrer: "+dX+" calculateApiUrl marker: "+bH);var dY=encodeURIComponent(cJ);z("Calltracking: enabled="+cb.callTrackingEnabled+",manual="+cb.callTrackingManual);var dW=JSON.stringify(cv.roistat.page.params);return R()+"/addVisit?v="+ab+"&marker="+encodeURIComponent(bH)+"&visit="+dT+"&first_visit="+dU+"&guid="+dV+"&phone_prefix="+cT+"&phone_prefix_bind="+dI+"&phone_scripts_bind="+W+"&referrer="+dX+"&page="+dY+"&ab="+c(dZ)+"&ab_variants="+c(b4())+"&"+h()+"="+az()+(dW==="{}"?"":"&page_params="+encodeURIComponent(dW))+((!cb.callTrackingEnabled||cb.callTrackingManual)?"&call_tracking_disabled=1":"")};var e=function(dT){setTimeout(function(){z("Call: setVisitIdCookie script creation after timeout");var dU=L.createElement("script");dU.onload=dU.onreadystatechange=function(){var dW=this.readyState?this.readyState:"unknown";z("Call: setVisitIdCookie script state changed to "+dW)};dU.src=dT;dU.type="text/javascript";dU.async=true;dU.id=ad;var dV=L.getElementsByTagName("script")[0];dV.parentNode.insertBefore(dU,dV);z("Call: setVisitIdCookie appended "+((L.getElementById(ad))?"true":"false"));z("Call: sendJSONPRequest to URL "+dT);cE()},cb.jsonpRequestTimeout)
};if(bH){ax(bH);dr()}var dS=i(a0);if(dS){dA(cd,dS,c7)}aH();var dR=dQ();e(dR);k?ag():ch()};var bZ=function(){z("Call: sendAbTests");var dR=function(){var dV=be(),dU=i(cl);return bj()+"//"+x+"/site-api/"+aP+"/"+dV+"/visit/"+dU+"/addAbVariant"};var dS=i(bI);var dQ=i(ak);if(dS===dQ||!dS){cE();return}var dT=dR();dT=dT+"?ab="+c(dS);var e=L.createElement("img");e.src=dT;cE()};var a2={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(a2.Android()||a2.BlackBerry()||a2.iOS()||a2.Opera()||a2.Windows())}};var bb={isIE:function(dR,dT){var dU="IE",dQ=L.createElement("B"),e=L.documentElement,dS;if(dR){dU+=" "+dR;if(dT){dU=dT+" "+dU}}dQ.innerHTML="<!--[if "+dU+']><b id="iecctest"></b><![endif]-->';e.appendChild(dQ);dS=!!L.getElementById("iecctest");e.removeChild(dQ);return dS}};var dp=function(){return cs.get(af)};var aj=function(){var e="";cv.onerror=function(dV,dU,dR,dT,dS){var dQ=!dT?"":", column: "+dT;dQ+=!dS?"":", error: "+dS;e=e+", Error: "+dV+", url: "+dU+", line: "+dR+dQ};setTimeout(function(){var dX=false,dY="";var dT=dw();for(var dW=0;dW<dT.length;dW++){var dS=dT[dW];if(dS!==null&&!dS.innerHTML){dX=true;dY="Promo HTML: "+dS.innerHTML}}if(!(i(cl)>0)){dX=true;dY=dY+"; roistat_visit = "+i(cl)}if(dX){var dR=L.getElementById(ad);var dQ=dR?1:0;var dU=cv.navigator.userAgent;dY=encodeURIComponent(dY);var dV=L.createElement("img");dV.src=bj()+"//"+x+"/site-api/"+aP+"/"+be()+"/debug?message="+dY+"&agent="+dU+"&"+h()+"="+az()+"&jserror="+e+"&scriptResponse="+dQ+"&version="+ab+"&debug="+bq}},20000)};var bM=function(){var dR=L.getElementsByTagName("body");var dS=L.documentElement;var dQ=0,dT=0;if(dR.length){var e=dR[0];dQ=cv.innerWidth||dS.clientWidth||e.clientWidth;dT=cv.innerHeight||dS.clientHeight||e.clientHeight}else{dQ=cv.innerWidth||dS.clientWidth;dT=cv.innerHeight||dS.clientHeight}return{width:dQ,height:dT}};var bh=function(){var dV=L.getElementsByClassName("roistat-promo-wrap");if(dV.length){z("PromoCode: old promo code length - exit");return}if(aR()){z("PromoCode: Shut down because only online chat need to be inited");return}var dU=cs.getObject(aZ);if(dU&&dU.hasOwnProperty("is_enabled")){cv.roistat.promoCode.isEnabled=dU.is_enabled;z("PromoCode: set is_enabled from storage")}var dS=function(){var d2=L.createElement("div");d2.innerHTML=roistatPromoCode;var d0=L.getElementsByTagName("body");if(d0.length){d0[0].appendChild(d2)}z("PromoCode: appended to body "+roistatPromoCode.length);var d1=L.getElementsByClassName("roistat-promo-wrap")[0];if(!d1){z("PromoCode: roistat-promo-wrap not found, skip");return}var dZ=d1.style;var dX,dY,dW;setInterval(function(){dX=bM();dY=d1.offsetWidth;dW=d1.offsetHeight*2;switch(roistatPosition){case"top_left":dZ.left=0;dZ.top=0;break;case"top":dZ.left=((dX.width-dY)/2)+"px";dZ.top=0;break;case"top_right":dZ.right=0;dZ.top=0;break;case"left":dZ.left=0;dZ.top=((dX.height-dW)/2)+"px";break;case"right":dZ.right=0;dZ.top=((dX.height-dW)/2)+"px";break;case"bottom_left":dZ.left=0;dZ.bottom=0;break;case"bottom":dZ.left=((dX.width-dY)/2)+"px";dZ.bottom=0;break;case"bottom_right":dZ.right=0;dZ.bottom=0;break;default:dZ.left=0;dZ.top=0}},500)};var e=cs.getObject("promo_code_options");if(e){z("PromoCode: options already set");cv.roistatPromoCode=e.template;cv.roistatPosition=e.position;dS()}else{if(!cv.roistat.promoCode.isEnabled){z("PromoCode: is not available, skip");return}var dT=L.getElementsByTagName("head")[0]||L.documentElement;var dR=L.createElement("script");dR.src=bj()+"//"+x+"/site-api/"+aP+"/"+be()+"/getPromoCode";dT.insertBefore(dR,dT.firstChild);z("PromoCode: loading started");var dQ=false;dR.onload=dR.onreadystatechange=function(){if(!dQ&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){dQ=true;dR.onload=dR.onreadystatechange=null;if(dT&&dR.parentNode){dT.removeChild(dR)}}if(!dQ){return}z("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){z("PromoCode: is disabled");return}e={template:roistatPromoCode,position:roistatPosition};cs.setObject("promo_code_options",e);dS()}}};var aB=function(dQ,dR){for(var e=0;e<dQ.length;e++){if(dQ[e]===dR){return true}}return false};var H=function(dQ){if(!an||dQ===""){return}var e=o();dy("visit: "+e+" "+dQ)};var dy=function(dQ){var e=R()+"/log?log="+encodeURIComponent(dQ);a5(e)};var aQ=function aQ(){var dT=cv.onpopstate;var dU=cv.history.pushState;var e=cv.history.replaceState;am(cv,"popstate",function dS(dV){z("[Roistat]: popstate event catch");cj();if(ai()&&typeof dT==="function"){dT(dV)}});am(cv.history,"pushState",function dR(dW,dX,dV){z("[Roistat]: pushState event catch");cj();if(ai()&&typeof dU==="function"){dU.apply(this,[dW,dX,dV])}});am(cv.history,"replaceState",function dQ(dW,dX,dV){z("[Roistat]: replaceState event catch");
cj();if(ai()&&typeof e==="function"){e.apply(this,[dW,dX,dV])}})};(function bW(){aQ();if(cv.onRoistatModuleLoaded!==bP&&typeof cv.onRoistatModuleLoaded==="function"){cv.onRoistatModuleLoaded()}})();(function aJ(){var dQ="fngr.roistat.com";var dU=false;var dT=be()==="e6b168b42cac9ce8e85d0bdde71e039a";if(!dU&&!dT){z("Fingerprint: disabled");return}cv.roistat.crossdevice={registerFingerprint:function dR(dV){z("Fingerprint: collected data "+JSON.stringify(dV));roistat.registerOnVisitProcessedCallback(function(){z("Fingerprint: sending to service");var dW=Object.keys(dV).map(function(dY){return dV[dY].key+"="+encodeURIComponent(dV[dY].data)}).join("&");dW=dW+"&visit="+be()+"|"+I()+"|"+roistat.getVisit();dW+="&host="+encodeURIComponent(cv.location.host);var dX=bj()+"//"+dQ+"/register?"+dW;a5(dX)})},markVisit:function e(dV){z("Fingerprint: marking visit "+dV)}};z("Fingerprint: initialising library");var dS=bj()+"//"+dQ+"/static/fingerprint.js";a5(dS)})();var bT=function(dQ){var dV=function(d2,d0){var dZ;if(dj(d0,"*")){var d1=new RegExp(d0.split("*").join(".*"));dZ=d1.test(d2)}else{dZ=d2===d0}z("LeadHunter: compare current: "+d2+", setting: "+d0+" with result = "+(dZ?1:0));return dZ};var e=cv.location.href,dS=false,dR=false,dX="",dT=0,dW;dW=dQ?dQ.split(","):[];if(!e||dW.length===0){dS=true}else{dX=aT(e);var dY;for(var dU=0;dU<dW.length;dU++){dY=dW[dU].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(dY)){if(dV(dX,dY.split(/^!/).join(""))){dR=true;break}}else{dT++;if(dV(dX,dY)){dS=true;break}}}}if(dR){z('LeadHunter: current page "'+dX+'" is disabled by list');return false}if(!dS&&dT>0){z('LeadHunter: current page "'+dX+'" is not listed');return false}z('LeadHunter: current page "'+e+'", cleaned: "'+dX+'" is not disabled in '+dW.length+" list of pages");return true};try{dF()}catch(cG){H(cG)}(function bg(){var ee="empty",dV=false,dQ=true,d5=false;var ea={roistat_visit:i(cl),marker:bH,user_agent:cv.navigator.userAgent,current_page:{title:L.title,href:cv.location.protocol+"//"+cv.location.host+cv.location.pathname}};var ef=function(el,ek,ej){if(el.addEventListener){el.addEventListener(ek,ej,false)}else{if(el.attachEvent){el.attachEvent("on"+ek,ej)}else{z("Handler could not be attached")}}};var d7=function(el,ej){if(el===bP||typeof ej!=="string"||ej.length===0){return}var ek=el.getElementsByClassName(ej);if(ek===bP||ek.length===0){return}return ek[0]};var eg=function(ej){return typeof ej==="object"&&ej!==null};var dW=function(ej,el,ek){if(eg(ej)){if(ek){ej.classList.add(el);return}ej.classList.remove(el)}};var eh=cv.visualViewport;var d4="visualViewport" in cv;var d8=function(ej){return(ej===0)?1:ej};var ei=function(){var ej;if(d4){ej=1/d8(eh.scale)}else{ej=cv.innerWidth/d8(cv.outerWidth)}return ej};var ec=function(){return"scale("+ei()+")"};var eb={leadHunter:function(){var f6="roistat-lh-form",eH="roistat-lh-form",f9="roistat-lh-head-text",eV="roistat-lh-head",eD="roistat-lh-thank-you",fm="roistat-lh-thank-you",eo="roistat-lh-close",ep="roistat-lh-submit",e4="roistat-lh-hidden",fL="roistat-lh-wrap",eJ="roistat-lh-popup-wrapper",fl="roistat-lh-popup",f8="roistat-lh-agreement",fh="roistat-lh-agreement roistat-lh-mobile",go="roistat-lh-agreement-input",fX="roistat-lh-agreement-link",ej="roistat-lh-agreement-doc",f2="roistat-lh-alert-row",ft="roistat-lh-agreement",fg="roistat-lh-popup-iframe",fw="roistat_leadHunterUrl",fZ="roistat_leadHunterAppearanceUrl",e8="roistat_leadHunterTargetPagesList",eC="roistat_leadHunterCaught",fD="roistat_leadHunterMinTime",eZ="roistat_leadHunterAutoShowTime",fA="roistat_leadHunterPulsatorEnabled",eT="roistat_leadHunterScriptsCaught",gp="roistat_leadHunterScriptsShownCount",fe="roistat-lh-load-done",eI="roistat-lh-close-modal",fN="roistat-lh-script-settings",fM="roistat-lh-setting-size",f3="roistat-lh-before-submit",fx="roistat-lh-before-submit-done",gb="roistat-lh-after-submit",fQ="roistat-lh-event-data",fR="roistat-lh-translate-form",gl={topLeft:{bottom:"80%",right:"auto",transformOrigin:"top left"},topRight:{bottom:"80%",right:"3%",transformOrigin:"top right"},bottomRight:{bottom:"10%",right:"3%",transformOrigin:"bottom right"},bottomLeft:{bottom:"10%",right:"auto",transformOrigin:"bottom left"}};var eB=0.3,eN=0.001,eE=false,eQ=0,eL=0,eR=0,gd=0,eP=0,e5=false,et=false,gn=false,eO,f1,fo,fu,fK,eU,gm,gh,fY,gk,ex,ge,fH,fp,ff,eA,em,e3,eS,e0,fV,f4,eX,f7,gc,e7;var gg={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var ga=function(gu){var gt=encodeURIComponent?encodeURIComponent:encodeURI;return gt(gu)};var fP=function(){if(!cv.roistat.leadHunter.isEnabled){return false}if(cv.roistatLeadHunterInited){return false}cv.roistatLeadHunterInited=true;if(cs.get(bQ)<1){z("LeadHunter: disabled");return false}return true};var e2=function(){em=cs.get(fw);if(!em){z("LeadHunter: not active cause of empty url");return false}b8();e3=cs.get(fZ);gd=cs.get(fD);eP=cv.roistat.leadHunter.form.autoShowTime===null?cs.get(eZ):cv.roistat.leadHunter.form.autoShowTime;
dV=cs.get(fA)==1;el();z("LeadHunter: initSettings end, isLeadHunterPulsatorEnabled: "+(dV?1:0));return true};var fa=function(){return cs.get(eC)>0};var el=function(){if(!(i(ah)>0)){z("LeadHunter: not active, expired for this visit");e5=true}};var eu=function(gt){gn=true;e0=fV.src;var gu={version:ab,additionalNotifyEmail:cv.roistat.leadHunter.additionalNotifyEmail,projectKey:be(),language:al,visitId:cM(),moduleTargetOrigin:cv.location.origin,referrer:cv.location.href,windowWidth:cv.innerWidth||0,iframeWrapperWidth:fu.offsetWidth||0,sendRequestUrl:cs.get(fw),message:fe};fV.contentWindow.postMessage(gu,e0);fC();if(gt&&bT(cs.get(e8))){z("Beta Test on, iframe fired, rise up iframe show count state");en()}};var fd=function(){et=true;es("click");eu();fJ()};var er=function(){var gt=cv.location.hash;if(!gt){return}if(dj(gt,"roistat-lead-hunter")){fd()}};var fb=function ez(){z("LeadHunter: binding timeout");if(e5){z("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(eE){z("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(eP>0){var gt=(eQ-cz())+eP*1000;z("LeadHunter: binding timeout with delay "+gt+" ms");clearTimeout(gg.timeoutId);gg.timeoutId=setTimeout(function(){z("LeadHunter: form auto activate with autoTime = "+eP);if(!eE){z("LeadHunter: show by timeout");et=true;es("auto");eu(true);fJ()}},gt)}else{clearTimeout(gg.timeoutId);z("LeadHunter: auto show time is not positive, feature disabled")}};var f0=function(){fY.onclick=fK.onclick=fr;gk.onclick=e6;if(eg(ge)){ef(ge,"click",fi)}if(eg(fH)){ef(fH,"change",gr)}var gu=L.getElementsByClassName("roistat-lh-input");if(Array.isArray(gu)){for(var gx=0;gx<gu.length;gx++){ef(gu[gx],"keyup",function(gB){gB=gB||event;var gA=(gB.keyCode?gB.keyCode:gB.which);if(gA==13){e6()}})}}var gv=cv.onresize;cv.onresize=function(gA){if(gv){gv(gA)}f5(gA)};if(!e5){var gt=L.onmouseout;L.onmouseout=function(gA){if(gt){gt(gA)}fG(gA)}}if(dV&&!d3()&&eg(eO)){eO.onmouseover=function(){ar(eO,"roistat-lh-pulsator-hover")};eO.onmouseout=function(){ck(eO,"roistat-lh-pulsator-hover")};eO.onclick=function(){fd()};cv.addEventListener("resize",function gz(){if(eg(eO)){eO.style.transform=ec()}});if(d4){eh.addEventListener("resize",function gy(){if(eg(eO)){eO.style.transform=ec()}})}}var gw=cv.onhashchange;cv.onhashchange=function(){if(gw){gw.apply(this,arguments)}er()}};var gj=function(){if(dV&&!d3()&&eg(eO)){eO.onmouseover=function(){ar(eO,"roistat-lh-pulsator-hover")};eO.onmouseout=function(){ck(eO,"roistat-lh-pulsator-hover")};eO.onclick=function(){fd()};cv.addEventListener("resize",function gx(){eO.style.transform=ec()});if(d4){eh.addEventListener("resize",function gw(){if(eg(eO)){eO.style.transform=ec()}})}}fK.onclick=fr;fV=L.getElementById(fg);if(eg(fV)){ef(fV,"load",function(){eu();gf()})}var gu=cv.onresize;cv.onresize=function(gy){if(gu){gu(gy)}f5(gy)};if(!e5){var gt=L.onmouseout;L.onmouseout=function(gy){if(gt){gt(gy)}if(!ai()){z("ShowLimit: Beta Test off, check cursor usually");fG(gy)}else{z("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!fI()&&!eM()){z("ShowLimit: Check cursor allowed");fG(gy,true)}}}}var gv=cv.onhashchange;cv.onhashchange=function(){if(gv){gv.apply(this,arguments)}er()}};var fq=function(gu){var gt=L.getElementsByClassName(gu);if(gt.length>0){return gt[0]}else{return null}};var fn=function(){var gw=fq("roistat-lh-title");if(eg(gw)&&roistat.leadHunter.form.title){gw.innerHTML=roistat.leadHunter.form.title}var gu=fq("roistat-lh-sub-title");if(eg(gu)&&roistat.leadHunter.form.subTitle){gu.innerHTML=roistat.leadHunter.form.subTitle}var gv=fq("roistat-lh-thank-you");if(eg(gv)&&roistat.leadHunter.form.thankYouText){gv.innerHTML=roistat.leadHunter.form.thankYouText}var gy=fq("roistat-lh-submit");if(eg(gy)&&roistat.leadHunter.form.buttonText){gy.value=roistat.leadHunter.form.buttonText}var gx=fq("roistat-lh-text-label-name");if(eg(gx)&&roistat.leadHunter.form.nameLabel){gx.innerHTML=roistat.leadHunter.form.nameLabel}var gt=fq("roistat-lh-text-label-contact");if(eg(gt)&&roistat.leadHunter.form.contactLabel){gt.innerHTML=roistat.leadHunter.form.contactLabel}};var eK=function(gu,gy,gx){var gt;if(!gu){z("LeadHunter: deactivating, empty form")}else{z("LeadHunter: rendering hidden form")}fK=L.createElement("div");fu=L.createElement("div");fu.innerHTML=gu;fK.className=e4;fu.className=e4;z("LeadHunter: processForm, isLeadHunterPulsatorEnabled: "+(dV?1:0));if(gy&&dV&&gx&&!d3()){var gv=typeof gx.position==="string"&&gx.position!==""?gx.position:"bottomRight";gt=L.createElement("div");gt.innerHTML=gy;eO=gt.childNodes.item(0);f1=eO.childNodes.item(1);fo=eO.childNodes.item(2).childNodes.item(0);f1.setAttribute("style","background: "+gx.button.background+";");fo.setAttribute("style","fill: "+gx.button.color+";");eO.setAttribute("style","bottom: "+gl[gv].bottom+";right:"+gl[gv].right+";");eO.style.transformOrigin=gl[gv].transformOrigin;eO.style.transform=ec();gg.pulsator.previousClass=eO.className;eO.className=e4;L.body.appendChild(eO)}L.body.appendChild(fK);
L.body.appendChild(fu);eU=L.getElementById(eV);gm=L.getElementById(eH);gh=L.getElementById(fm);fY=L.getElementById(eo);gk=L.getElementById(ep);ex=L.getElementById(f8);fH=L.getElementById(go);ge=L.getElementById(fX);fp=L.getElementById(ej);ff=L.getElementById(f2);eA=L.getElementById(ft);var gw=fq(eJ);eS=eg(gw)&&gw.getAttribute("data-is-iframe");if(eS){gj()}else{fn();f0();er();gf()}};var gi=function(gv){var gu=gv.button&&gv.button.background&&gv.button.color;if(!gu){return}cs.setObject(b9,e7);var gt=typeof gv.position==="string"&&gv.position!==""?gv.position:"bottomRight";if(eg(f1)){f1.setAttribute("style","background: "+gv.button.background+";")}if(eg(fo)){fo.setAttribute("style","fill: "+gv.button.color+";")}if(eg(eO)){eO.setAttribute("style","bottom: "+gl[gt].bottom+";right:"+gl[gt].right+";");eO.style.transformOrigin=gl[gt].transformOrigin;eO.style.transform=ec()}};var ey=function(){var gt=cs.get(ca),gv=cs.get(bE),gu=cs.getObject(b9);eK(cy.decode(gt),cy.decode(gv),gu)};var e9=function(){var gu=fu.clientWidth,gt=fu.clientHeight;if(eg(fu)){fu.setAttribute("style",fu.getAttribute("style")+" width: "+gu+"px; height: "+gt+"px;")}if(eg(gm)){gm.className=e4}if(eg(eU)){eU.className=e4}if(eg(ex)){ex.className=e4}if(eg(gh)){gh.setAttribute("style","width: "+gu+"px; height: "+gt+"px; display: table-cell;");gh.className=eD}setTimeout(function(){z("LeadHunter: close form after timeout");fr()},7000)};var fJ=function(){var gu=Math.round((fW()-fu.clientHeight)/2);var gt=Math.round((gs()-fu.clientWidth)/2);if(eg(fu)){fu.setAttribute("style","left: "+gt+"px; top: "+Math.max(0,gu)+"px;")}};var es=function(gu){if(!bT(cs.get(e8))){return}if(cv.roistat.leadHunter.onBeforeAppear){z("LeadHunter: process user defined onBeforeAppear");cv.roistat.leadHunter.onBeforeAppear(gu);if(eS){fC()}}if(eg(fu)){fu.setAttribute("style","left:20px;top:-20px;opacity:0");fu.className=fl}if(eg(fK)){fK.className=fL}if(eg(gm)){gm.className=f6}if(eg(eU)){eU.className=f9}if(eg(ex)){ex.className=fh}if(eg(gh)){gh.setAttribute("style","");gh.className=e4}if(eg(fK)){fK.setAttribute("style","opacity:0;")}eE=true;setTimeout(function(){fK.setAttribute("style","opacity:.5;")},10);var gv=i(cl),gt=e3+"?visit_id="+gv+"&page="+y();X(gt);if(cv.roistat.leadHunter.onAfterAppear){z("LeadHunter: process user defined onAfterAppear");cv.roistat.leadHunter.onAfterAppear(gv,fK,fu,gm);if(eS){fC()}}};var fO=function fs(){eQ=cz();ey();z("LeadHunter: form initialized")};var gf=function fc(){z("LeadHunter: tuning appearance for page");if(!bT(cs.get(e8))||(cs.get(a4)&&!cs.get(ac))){z("LeadHunter: disabled on page");gg.leave.isShowEnabled=false;clearTimeout(gg.timeoutId);if(d3()){dQ=false;d0()}if(eg(eO)){eO.className=e4}}else{z("LeadHunter: enabled on page");if(!fa()&&!ai()){z("ShowLimit: Beta Test off, bindShowOnTimeout usually");gg.leave.isShowEnabled=true;fb()}if(ai()){z("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!fI()&&!eM()){z("ShowLimit: bindShowOnTimeout allowed");gg.leave.isShowEnabled=true;fb()}}if(eg(eO)){eO.className=gg.pulsator.previousClass}}};var eW=function fF(){z("LeadHunter: processing single page application state change");eQ=cz();gf()};var fU=function fj(){aE(eW);var gu=function(){var gA=L.querySelector("html"),gw=600,gz=300,gC=cv.innerWidth,gv=getComputedStyle(gA).zoom,gy={};var gx=function(){var gD=gA.style.cssText.split(";").find(function(gE){return gE.includes("--zoomLevel")});if(gD!==bP){gD=gD.split(":");if(gD.length>1){gD=parseFloat(gD[1])}else{return bP}}return gD};var gB=gx();if(gB!==bP){gv=gB}if(gC<gw&&gC>=gz){gy={isMobileMarkup:true,isMobileMarkupXs:false,zoomValue:gv};fV.contentWindow.postMessage({sizeSettings:gy,message:fM,windowWidth:cv.innerWidth||0},e0);return}if(gC<gz){gy={isMobileMarkup:false,isMobileMarkupXs:true,zoomValue:gv};fV.contentWindow.postMessage({sizeSettings:gy,message:fM,windowWidth:cv.innerWidth||0},e0);return}gy={isMobileMarkup:false,isMobileMarkupXs:false,zoomValue:gv};fV.contentWindow.postMessage({sizeSettings:gy,message:fM,windowWidth:cv.innerWidth||0},e0)};cv.roistatLeadHunterUpdate=gu;am(cv,"load",function(){gu()});am(cv,"resize",function(){gu()});am(cv,"message",function gt(gz){var gE=typeof gz.data==="string"?gz.data:gz.data.message;if(gE===fN){f4=gz.data.scriptId;eX=gz.data.showsLimit;var gD=cs.getObject(r)!==null;if(gD){eP=gz.data.leadHunterAutoShowTime;gd=gz.data.leadHunterMinTime;e7=gz.data.leadHunterPulsatorSettings;cs.set(fD,gd);cs.set(eZ,eP);if(e7){var gC=Number(e7.isEnabled);z("Leadhunter: set pulsator setting "+gC);cs.set(fA,gC);gi(e7)}}z("ShowLimit: Get lhScriptId: "+gz.data.leadHunterId+" and lhScriptMaxShownCount: "+gz.data.leadHunterMaxShownCount+" from lh widget");fz()}if(gE===eI){fr()}if(gE===fM){const gy=typeof gz.data==="object"&&gz.data.calibratingSize!==bP?gz.data.calibratingSize:true;fV.setAttribute("style","width: "+gz.data.width+"px !important; height: "+gz.data.height+"px !important;");if(gn&&!gy){fV.contentWindow.postMessage({message:fM,windowWidth:cv.innerWidth||0,calibratingSize:true},e0)
}f5(gz)}if(gE===f3){var gx=gz.data.caughtLeadData;if(cv.roistat.leadHunter.onBeforeSubmit){z("LeadHunter: process user defined onBeforeSubmit");var gv=cv.roistat.leadHunter.onBeforeSubmit(gx);if(gv){gx=gv}}if(!ai()){z("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");ev()}else{z("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");fB()}var gw=cs.getObject(cK);var gB=gw!==null;var gA=gB&&gx.isNeedCallback===null&&!P(gw);if(gA){gx.isNeedCallback=0}fV.contentWindow.postMessage({caughtLead:gx,message:fx},e0)}if(gE===gb){if(cv.roistat.leadHunter.onAfterSubmit){z("LeadHunter: process user defined onAfterSubmit");cv.roistat.leadHunter.onAfterSubmit({name:gz.data.name,phone:gz.data.phone})}}})};function fC(){var gt={apiData:cv.roistat.leadHunter.form,message:fQ};fV.contentWindow.postMessage(gt,e0)}function fz(){if(!fP()){z("checkLeadHunterLaunch false");return}var gt=cs.getObject(r)!==null;if(gt){ew()}if(!e2()){z("initSettings false");return}z("LeadHunter: activated");fO();gf();fU();if(typeof cv.onRoistatLeadHunterInited==="function"){cv.onRoistatLeadHunterInited()}}function fW(){return(cv.innerHeight?cv.innerHeight:L.documentElement.clientHeight==0?L.body.clientHeight:L.documentElement.clientHeight)}function gs(){return(cv.innerWidth?cv.innerWidth:L.documentElement.clientWidth==0?L.body.clientWidth:L.documentElement.clientWidth)}function fG(gw,gt){gw=gw||event;eR=gw.clientY;var gu=eR/fW(),gy=eL>0&&eL>gu,gv=gu<eN,gx=(cz()-eQ)>gd*1000;if(gy&&gv&&!eE&&gx&&gg.leave.isShowEnabled&&!fa()){z("LeadHunter: show modal with because move up ("+eL+" -> "+gu+") and in modal zone and show on leave enabled");es("exit");eu(gt);fk(gw)}if(gu<eB){eL=gu}}function f5(gt){if(et){fJ()}else{gt=gt||event;fk(gt)}}function fk(gy){var gu=gy.type==="message"?gy.data.width:fu.offsetWidth;var gv=gs();var gt=gy.clientX-Math.round(gu/2)||fu.offsetLeft;gt=Math.max(20,Math.min(gt,gv-gu-20));var gz=gt+gu>gv-40;if(gz){var gw=(gt+gu-20)-(gv-40);gt=gt-gw}var gx=gv-40>gu?"":"width: "+(gu-40)+"px;";if(eg(fu)){fu.setAttribute("style","left: "+gt+"px; top: 0px; "+gx)}}function ev(){cv.roistatSetCookie(eC,1,c7)}function fr(){if(!ai()){z("ShowLimit: Beta Test off, setCookieLeadHunterCaught");ev()}if(eg(fK)){fK.setAttribute("style","opacity:0")}if(eg(fu)){fu.style.top="-"+fu.offsetHeight*2+"px";setTimeout(function(){fu.className=fK.className=e4},500)}}function e6(){var gH=L.getElementById("roistat-lh-phone-input"),gv=L.getElementById("roistat-lh-name-input"),gx,gF;gx=gH===null?"":gH.value;gF=gv===null?"":gv.value;var gC={name:gF,phone:gx,isNeedCallback:null,callbackPhone:null,fields:{}};if(cv.roistat.leadHunter.onBeforeSubmit){z("LeadHunter: process user defined onBeforeSubmit");var gy=cv.roistat.leadHunter.onBeforeSubmit(gC);if(gy){gC=gy}}var gE=gC.phone.length<1;var gG=gC.phone.indexOf("_")===-1;var gA=!gE&&gG;var gD=gC.name.length<1;var gu=!gD||!cv.roistat.leadHunter.form.isNameRequired;if(!gA&&eg(gH)){gH.setAttribute("style","border: 2px solid #E0571A;");return}if(!gu&&eg(gv)){gv.setAttribute("style","border: 2px solid #E0571A;");return}var gt=em+"?v="+ab+"&lead-hunt-input="+encodeURIComponent(gC.phone)+"&lead-name="+encodeURIComponent(gC.name)+"&visit="+cM();if(gC.isNeedCallback!==null&&gC.isNeedCallback!==bP){gt=gt+"&is_need_callback="+(gC.isNeedCallback>0?1:0)}if(gC.callbackPhone){gt=gt+"&callback_phone="+gC.callbackPhone}if(cv.roistat.leadHunter.additionalNotifyEmail!==null){gt=gt+"&additional_email="+encodeURIComponent(cv.roistat.leadHunter.additionalNotifyEmail)}var gw=0;if(gC.fields&&typeof gC.fields==="object"){for(var gz in gC.fields){if(gC.fields.hasOwnProperty(gz)){++gw}}}if(gw>0){gt=gt+"&fields="+ga(JSON.stringify(gC.fields))}gt=gt+"&t="+cz();var gB=L.createElement("img");gB.src=gt;if(eg(gH)){gH.setAttribute("style","")}if(!ai()){z("ShowLimit: Beta Test off, caught LH usually");ev()}else{z("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");fB()}if(!eg(gh)){fr();e1()}else{e9()}if(cv.roistat.leadHunter.onAfterSubmit){z("LeadHunter: process user defined onAfterSubmit");cv.roistat.leadHunter.onAfterSubmit({name:gF,phone:gx})}}function fi(gt){if(gt.preventDefault){gt.preventDefault()}else{gt.returnValue=false}if(eg(fp)){fp.style.display==="block"?fp.style.display="none":fp.setAttribute("style","display: block; padding: 0 30px; width:"+fu.clientWidth+"px;")}f5()}function gr(){if(eg(gk)){gk.disabled===true?gk.disabled=false:gk.disabled=true}if(eg(ff)){ff.style.display==="block"?ff.style.display="none":ff.style.display="block"}}function e1(){L.onmousemove=null;if(eg(fK)){fK.onresize=null}}var eY=function(gz,gC){if(!gz||!gC){z("LeadHunter: skip phone mask render due to empty input or mask");return}z("LeadHunter: render phone mask "+gC+" for input: "+gz.value);if(cv.roistatRenderPhoneMaskMutex){return}cv.roistatRenderPhoneMaskMutex=true;var gw="_",gv="x",gy="х",gx=gC.toLowerCase().split(gv).join(gw).split(gy).join(gw);var gu=function(gD){if(gz.setSelectionRange){gz.setSelectionRange(gD,gD)
}else{if(gz.createTextRange){var gE=gz.createTextRange();gE.collapse(true);gE.moveEnd("character",gD);gE.moveStart("character",gD);gE.select()}}};var gA=function(gD){if(!gD){return 0}var gE=gD.indexOf(gw);if(gE<0){return gD.length}return gE};var gB=function(gD){gu(gA(gD))};var gt=function(gM){var gN=gx.split("");if(!gM){return gx}var gD=gM.split("");var gO=[],gL,gI,gK,gH,gF,gE,gJ;for(var gG=0;gG<gN.length;gG++){gI=gN[gG];if(gG>=gD.length){gO.push(gI);continue}gF=((gG+1)<gN.length)?gN[gG+1]:null;gE=((gG+1)<gD.length)?gD[gG+1]:null;gJ=((gG+2)<gD.length)?gD[gG+2]:null;gL=gD[gG];gK=parseInt(gL)>=0;gH=(gI===gw)&&gK;if(!gH){gO.push(gI);continue}if(gE===gw&&gF!==gw&&gJ!==gF){gO.push(gI);continue}gO.push(gL)}return gO.join("")};setTimeout(function(){var gD=gt(gz.value);if(gz.value!==gD){gz.value=gD}gB(gD);cv.roistatRenderPhoneMaskMutex=false},1)};var fT=function(gt,gv,gu){cs.set(ca,cy.encode(gt));cs.set(bE,cy.encode(gv));cs.setObject(b9,gu)};var fy=function(gt){al=gt;if(fV===bP){return}ek()};var ek=function(){var gt={language:al,message:fR};fV.contentWindow.postMessage(gt,e0)};var fB=function(){z("ShowLimit: Start set roistat_leadHunterScriptsCaught");var gt=eF(eT);if(!gt){gt={}}z("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");gt[f4]=1;fS(eT,gt)};var en=function(){z("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var gu=eF(gp);if(!gu){gu={}}var gv=gu.hasOwnProperty(f4);if(!gv){z("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");gu[f4]=0}var gt=gu[f4]+1>eX;if(gt){z("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}z("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");gu[f4]+=1;fS(gp,gu)};var fS=function(gt,gu){dA(gt,JSON.stringify(gu),c7)};var eF=function(gt){var gu=i(gt);if(typeof gu!=="undefined"){return JSON.parse(gu)}return gu};var eM=function(){if(eX===0){z("ShowLimit: show limit off and set to 0");return false}var gt=eF(gp),gu=gt?gt[f4]:null,gv=gu+1>eX;z("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+gv);return gv};var fI=function(){var gv=eF(eT),gt=gv?gv[f4]:null,gu=gt===1;z("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+gu);return gu};var ew=function(){cs.set(a4,eq());cs.set(ca,cy.encode(fE()));cs.set(e8,eG());cs.set(fA,gq())};var fE=function(){var gt=bj()+"//"+x+"/api/site/1.0/"+be()+"/leadhunter/script/"+cs.get(a4)+"/widget?visit_id="+o();return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+gt+'" frameborder="0"></iframe></div>'};var eq=function(){var gu=cs.getObject(r);if(gu===null){return}cs.set(ac,"");var gy=Number(cs.get(bQ));var gC=Object.keys(gu);var gz=gC.sort()[0];if(!gy){return gz}for(var gx=0;gx<gC.length;gx++){var gD=gu[gC[gx]];var gA=gD.targetPageList;var gw=bT(gA.join(","));var gv=gA.length===0;var gt=Array.isArray(gD.devicesFilter)&&gD.devicesFilter.length>0?gD.devicesFilter.indexOf(G())!==-1:true;var gB=(gv||gw)&&gt&&(!gD.timetable.isEnabled||P(gD.timetable));if(gB){gz=gC[gx];cs.set(ac,gz)}}return gz};var eG=function(){var gt=fv();return gt!==null?gt.targetPageList.join(","):""};var gq=function(){var gt=fv();return gt!==null?Number(gt.isPulsatorEnabled):0};var fv=function(){var gt=cs.get(a4);var gu=cs.getObject(r);return gu[gt]!==null?gu[gt]:null};cv.roistatLeadHunterShow=fd;cv.roistatRenderPhoneMask=eY;cv.roistat.leadHunter.localization.translateToRussian=function(){fy(cp)};cv.roistat.leadHunter.localization.translateToEnglish=function(){fy(aD)};cL(fz)},multiwidget:function(){var e0="roistat-multiwidget-hidden",fa="roistat-multiwidget-pulsator-phone",e8="roistat-multiwidget-pulsator-popup-item-lead-hunter",eA="roistat-multiwidget-pulsator-fill",fd="roistat-multiwidget-pulsator-fill-svg",eR="roistat-multiwidget-pulsator-img-icon",ez="roistat-multiwidget-pulsator-popup-item-chat",em="roistat-multiwidget-pulsator-popup-item-facebook",er="roistat-multiwidget-pulsator-popup-item-vk",eQ="roistat-multiwidget-pulsator-popup-item-telegram",eG="roistat-multiwidget-pulsator-popup-item-whats-app",eE="roistat-multiwidget-pulsator-popup-item-viber",eV="roistat-multiwidget-pulsator-items-popup-holder",eP="iframe_chat_successfully_loaded",et="roistat-multiwidget-pulsator-popup-tail",eM="roistat-online-chat-popup-wrapper",fc="roistat-online-chat-popup-wrapper-hidden",e6="roistat-multiwidget-pulsator-holder-hidden";var ey,eU,eH,e9,ej,ep,fb,eL,ev,el,ew,en,e2,eo;var eD=false;var e7={topLeft:{bottom:"unset",right:"unset",top:dJ()?0:"20px",left:dJ()?0:"35px",transformOrigin:"top left"},topRight:{bottom:"unset",right:dJ()?0:"35px",top:dJ()?0:"20px",left:"unset",transformOrigin:"top right"},bottomRight:{bottom:dJ()?0:"20px",right:dJ()?0:"35px",top:"unset",left:"unset",transformOrigin:"bottom right"},bottomLeft:{bottom:dJ()?0:"20px",right:"unset",top:"unset",left:dJ()?0:"35px",transformOrigin:"bottom left"}};
var es={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var eF={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function eZ(ff){z("Multiwidget: "+ff)}function eO(){eU=d7(ey,fa);eH=d7(ey,eV);e9=d7(ey,et);eL=d7(eH,e8);ev=d7(eH,ez);el=d7(eH,er);ew=d7(eH,em);en=d7(eH,eQ);e2=d7(eH,eG);eo=d7(eH,eE);ej=d7(eU,eA);ep=eU.getElementsByClassName(fd);fb=d7(eU,eR)}function eB(){if(eg(eH)){eH.classList.toggle(e0)}}function e5(ff){if(eg(ff)){ff.classList.toggle("opened")}}function fe(){eZ("add pulsator events");ef(eU,"click",function(){if(!eJ()){eB()}e5(eU)});ef(eL,"click",function(){eZ("opening leadhunter via multiwidget");cv.roistatLeadHunterShow();eB();dW(eU,"opened",false)});ef(ev,"click",function(){eZ("opening online chat via multiwidget");cv.roistatOnlineChatShow();eB()});ef(el,"click",function(){cv.open(cs.get(c2),"_blank")});ef(ew,"click",function(){cv.open(cs.get(dl),"_blank")});ef(en,"click",function(){cv.open(cs.get(bz),"_blank")});ef(e2,"click",function(){cv.open(cs.get(bO),"_blank")});ef(eo,"click",function(){cv.open(cs.get(cQ),"_blank")})}function eJ(){var ff=d7(L,eM);return eg(ff)&&!ff.classList.contains(fc)}function eK(){return eg(eV)&&!eV.classList.contains(e0)}function eq(ff){if(eg(ff)){ff.classList.add(e0)}}function eX(ff){if(eg(ff)){ff.classList.remove(e0)}}function eS(){eq(eL)}function eI(){eZ("hiding disabled multiwidget options");var ff=Number(cs.get(bQ)),fg=Number(cs.get(cc)),fi=Number(cs.get(T)),fk=Number(cs.get(cN)),fh=Number(cs.get(cY)),fj=Number(cs.get(dP));if(!ff||!dV||!dQ){eZ("hiding leadhunter option");eS()}if(!dZ()||!eD){eZ("hiding online chat option");eq(ev)}if(!fg){eZ("hiding vk-messenger option");eq(el)}if(!fi){eZ("hiding fb-messenger option");eq(ew)}if(!fk){eZ("hiding telegram-messenger option");eq(en)}if(!fh){eZ("hiding whatsApp-messenger option");eq(e2)}if(!fj){eZ("hiding Viber-messenger option");eq(eo)}}function ek(){var fg=cs.getObject(f);eZ("start filling pulsator");if(fg){if(eg(ej)){ej.setAttribute("style","background: "+fg.button_color+";")}if(eg(fb)){fb.setAttribute("style","fill: "+fg.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(ep)){for(var ff=0;ff<ep.length;ff++){ep[ff].setAttribute("style","fill: "+fg.button_color+";")}}}}function eW(){var ff=cs.getObject(f);return typeof ff.position==="string"&&ff.position!==""?ff.position:"bottomRight"}function eT(){if(eg(ey)){var ff=eW();ey.setAttribute("style","top: "+e7[ff].top+";right:"+e7[ff].right+";bottom:"+e7[ff].bottom+";left:"+e7[ff].left+";");ey.style.transformOrigin=e7[ff].transformOrigin;ey.style.transform=ec()}}function eC(){if(eg(eU)){var ff=eW();var fg=ff==="topLeft"||ff==="bottomLeft"?"margin-right":"margin-left";eU.setAttribute("style",fg+": auto")}}function eY(){if(eg(eH)){var ff=eW();eH.setAttribute("style","top: "+es[ff].top+";right:"+es[ff].right+";bottom:"+es[ff].bottom+";left:"+es[ff].left+";")}}function eu(){if(eg(e9)){var ff=eW();e9.setAttribute("style","top: "+eF[ff].top+";right:"+eF[ff].right+";bottom:"+eF[ff].bottom+";left:"+eF[ff].left+";border-top-color:"+eF[ff]["border-top-color"]+";border-right-color:"+eF[ff]["border-right-color"]+";border-bottom-color:"+eF[ff]["border-bottom-color"]+";border-left-color:"+eF[ff]["border-left-color"]+";")}}function e3(){eT();eC();eY();eu()}function ex(){var fg=cy.decode(cs.get(dg));if(fg){eZ("appending multiwidget pulsator");var ff=L.createElement("div");ff.innerHTML=fg;ey=ff.childNodes.item(0);if(!cv.roistat.multiwidget.isVisible){eZ("Hide widget");ey.className=ey.className+" "+e6}L.body.appendChild(ey);eO();eI();ek();e3();fe()}}function eN(){var fl=cs.getObject(at);if(!fl){var fn=parseInt(cs.get(bl));fn=!isNaN(fn)?Boolean(fn):roistat.multiwidget.isEnabled;var fg=Boolean(parseInt(cs.get(cc)))||roistat.multiwidget.vk.isEnabled;var fp=cs.get(c2);fp=fp!=="null"?fp:roistat.multiwidget.vk.link;var fk=Boolean(parseInt(cs.get(T)))||roistat.multiwidget.fb.isEnabled;var fo=cs.get(dl);fo=fo!=="null"?fo:roistat.multiwidget.fb.link;var fh=Boolean(parseInt(cs.get(cN)))||roistat.multiwidget.telegram.isEnabled;var fq=cs.get(bz);fq=fq!=="null"?fq:roistat.multiwidget.telegram.link;
var ff=Boolean(parseInt(cs.get(cY)))||roistat.multiwidget.whatsApp.isEnabled;var fj=cs.get(bO);fj=fj!=="null"?fj:roistat.multiwidget.whatsApp.link;var fm=Boolean(parseInt(cs.get(dP)))||roistat.multiwidget.viber.isEnabled;var fi=cs.get(cQ);fi=fi!=="null"?fi:roistat.multiwidget.viber.link;fl={is_enabled:fn,vk:{is_enabled:fg,link:fp},fb:{is_enabled:fk,link:fo},telegram:{is_enabled:fh,link:fq},whats_app:{is_enabled:ff,link:fj},viber:{is_enabled:fm,link:fi}}}c8(fl)}function e1(){am(cv,"message",function ff(fj){var fi=typeof fj.data==="string"?fj.data:fj.data.message;if(fi===eP){eD=true;eX(ev)}});am(cv,"resize",function fh(){if(eg(ey)){ey.style.transform=ec()}});if(d4){am(eh,"resize",function fg(){if(eg(ey)){ey.style.transform=ec()}})}}function e4(){eN();b8();e1();eZ("activated");ex();if(typeof cv.onRoistatMultiwidgetInited==="function"){cv.onRoistatMultiwidgetInited()}}d0=eS;cL(e4)},onlineChat:function(){var fo="iframe-module-created",ew="iframe_chat_successfully_loaded",em="iframe-online-chat-opened",es="iframe-online-chat-invite-message",fJ="iframe-delivered-messages",fq="roistat-online-chat-init",fn="roistat-online-chat-init-with-text",fa="roistat-online-chat-open",fQ="roistat-online-chat-reload",fB="roistat-online-chat-update-custom-params",eJ="roistat-online-chat-lead_successfully_sent",fu="roistat-online-chat-translate-form",eU="roistat-online-chat-send-lead",fE="roistat_chat_id",fP="roistat_chat_session",fp="roistat_chat_custom_position",eD,ex,fF,et,ey,fC,fh,eO,ff;var e9="roistat-online-chat-popup-iframe",eR="roistat-online-chat-hidden",fG="roistat-online-chat-holder",fA="roistat-online-chat-popup-wrapper",fx="roistat-multiwidget-pulsator-phone",en="roistat-multiwidget-pulsator-popup-item-chat",fe="roistat-online-chat-popup-wrapper-hidden",eP="roistat-online-chat-popup-mouse-track",e8="roistat-online-chat-popup-mouse-track-active",eT="roistat-online-chat-pulsator-fill",fD="roistat-online-chat-pulsator-img",e1="roistat-online-chat-pulsator-phone",fS="roistat-online-chat-pulsator-circle",er="."+fS,fw="roistat-online-chat-pulsator-notification-circle",fR="."+fw,eH="roistat-online-chat-pulsator-fill-svg",fd="roistat-online-chat-popup-spacer",eC=".roistat-multiwidget-pulsator-items-popup",eA=".roistat-online-chat-pulsator-phone",e6=".roistat-online-chat-popup-wrapper";var eL=99;var fz="roistat-online-chat-pulsator-notification-limit";var eQ=false,eS=false,fi=0,eq=0;var fb=".roistat-online-chat-holder";var e0="roistat-online-chat-holder-hidden";if(d3()){fb=".roistat-multiwidget-pulsator-holder";e0="roistat-multiwidget-pulsator-holder-hidden";fS="roistat-multiwidget-pulsator-circle";er="."+fS;fw="roistat-multiwidget-pulsator-notification-circle";fR="."+fw;fz="roistat-multiwidget-pulsator-notification-limit"}var fK;var fO={topLeft:{bottom:"unset",right:"unset",top:dJ()?0:"20px",left:dJ()?0:"35px"},topRight:{bottom:"unset",right:dJ()?0:"35px",top:dJ()?0:"20px",left:"unset"},bottomRight:{bottom:dJ()?0:"20px",right:dJ()?0:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:dJ()?0:"20px",right:"unset",top:"unset",left:dJ()?0:"35px"}};var fc={topLeft:{top:dJ()?"90px":"130px",right:"unset",bottom:"unset",left:dJ()?"3%":"65px"},topRight:{top:dJ()?"90px":"130px",right:dJ()?"3%":"65px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:dJ()?"3%":"65px",bottom:dJ()?"90px":"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:dJ()?"90px":"130px",left:dJ()?"3%":"65px"}};var fH={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var fm=function(fW){z("onlineChat: "+fW)};var eI=function(){function fW(){return Math.random().toString(36).substr(2,8)}return fW()+fW()+fW()+fW()};var ez=function(){var fW=cs.get(fP);if(!fW){fW=eI();cs.set(fP,fW)}return fW};var ep=function(){var fW={message:fo,detail:{version:ab,language:s,projectKey:be(),visitId:cM(),firstVisit:cs.get(a6),chatId:i(fE),moduleTargetOrigin:cv.location.origin,referrer:cv.location.href,params:ea,sessionUniqueKey:ez()}};fC.contentWindow.postMessage(fW,fC.src)};var eE=function(){var fW={message:em,detail:{isOpened:fI()}};fC.contentWindow.postMessage(fW,fC.src)};var eG=function(){var fW={message:fB,detail:{params:ea}};fC.contentWindow.postMessage(fW,fC.src)};var ek=function(){var fW={language:s,message:fu};fC.contentWindow.postMessage(fW,fC.src)};var eK=function(fX){var fW={message:fn,detail:{message:fX}};fC.contentWindow.postMessage(fW,fC.src)};var fV=function(fW){var fX={message:fa,detail:{chatId:fW}};fC.contentWindow.postMessage(fX,fC.src)};var fv=function(){am(cv,"message",function fW(fZ){var fY=typeof fZ.data==="string"?fZ.data:fZ.data.message;var fX=typeof fZ.data!=="string"?fZ.data.detail:{};fm("event: "+fY+" "+JSON.stringify(fX));switch(fY){case ew:fy();cv.setRoistatOnlineChatCustomParams=eX;eX(ea);if(typeof cv.onRoistatOnlineChatInited==="function"){cv.onRoistatOnlineChatInited()}break;case fo:ep();break;
case fq:fm("saving chat id = "+fX.chatId);dA(fE,fX.chatId,{path:"/"});break;case fn:fm("saving chat with text id = "+fX.chatId);if(cv.onRoistatChatInit!==bP&&typeof cv.onRoistatChatInit==="function"){cv.onRoistatChatInit(fX.chatId)}dA(fE,fX.chatId,{path:"/"});cv.roistatOnlineChatShow();break;case fa:fm("saving chat id by open chat = "+fX.chatId);dA(fE,fX.chatId,{path:"/"});cv.roistatOnlineChatShow();break;case es:fm("rendering invite message");fr(fX.message);break;case fJ:fm("get delivered messages");fU(fX.messages);break;case eU:fm("sending lead");eF(fX.leadData)}})};var eW=function(){var fX=cv.roistat.onlineChat.notificationsCustomHolderSelector;var fW=fX!==null;return L.querySelector(fW?fX:fb)};var eF=function(fW){cv.roistatGoal.reach(fW,function(){fC.contentWindow.postMessage(eJ,fC.src)})};var fr=function(f3){if(fI()){return}var fY="<div class='roistat-online-chat-message'><img src='"+f3.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+f3.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+f3.text+"</div></div><div class='roistat-online-chat-message-close'>х</div></div>";var f2=L.createElement("div");f2.innerHTML=fY;var f1=eW();if(eg(f1)){var f4=fg()?"beforeend":"afterbegin";f1.insertAdjacentHTML(f4,fY);var f0=f1.getElementsByClassName("roistat-online-chat-message-close");var fW=f1.getElementsByClassName("roistat-online-chat-message");var fZ=f0[fg()?f0.length-1:0];var fX=fW[fg()?f0.length-1:0]}setTimeout(function(){fX.remove()},15000);ef(fX,"click",function(f5){f5.stopPropagation();if(!fI()){ft()}fL()});ef(fZ,"click",function(f5){f5.stopPropagation();fX.remove()})};var fU=function(fY){var f2=eW();if(eg(f2)){var f3=f2.querySelector(er);var fX=f2.querySelector(fR);var f1=fY>eL;var f0=f1?eL+"+":fY;if(fX&&!fY){fX.remove();return}if(fX){fX.textContent=f0;fX.classList.toggle(fz,f1);return}if(fY){var fW=f1?fz:"";var fZ='<div class="'+fw+fW+'">'+f0+"</div>";f3.insertAdjacentHTML("beforebegin",fZ)}}};var fL=function(){var fX=eW();if(eg(fX)){var fW=fX.getElementsByClassName("roistat-online-chat-message");while(fW.length>0){fW[0].remove()}}};var fN=function(){fC=L.getElementById(e9);if(eg(fC)){ef(fC,"load",function(){e7()})}ef(L,"click",function(f1){var f0=cv.roistat.onlineChat.customTriggerSelector;if(d3()){var f2=d7(L,fx);var fZ=d7(L,en);var fY=fI()&&f1.target!==fZ&&!fZ.contains(f1.target);if(fY){dW(f2,"opened",false)}}else{var fW=d7(L,fG);var fX=fI()&&f1.target!==fW&&!fW.contains(f1.target);if(fX){dW(fW,"opened",false)}}if(fI()&&(f1.target.closest(eC)===null&&f1.target.closest(e6)===null&&f1.target.closest(eA)===null&&(f0?f1.target.closest(f0)===null:true))){ft()}})};var el=function(fY){var fX=fF.getBoundingClientRect().x;var fW=fF.getBoundingClientRect().y;eS=true;eo();fi=fY.pageX-fX;if(fg()){eq=fY.pageY+fW}else{eq=fY.pageY-fW}};var eZ=function(){eS=false;fs();eM()};var eo=function(){if(eg(ex)){ex.classList.add(e8)}};var fs=function(){if(eg(ex)){ex.classList.remove(e8)}};var fj=function(f4){if(eS&&eg(fF)){var fW=fF.getBoundingClientRect();var f3=fW.width;var f2=400;var fX=50;var f7=0;var fZ=cv.innerHeight-f2;var f5=f4.pageX-fi;var f1=fX;var fY=cv.innerWidth-fX-f3;if(fg()){f7=cv.innerHeight-(f4.pageY+fW.y)-20}else{f7=f4.pageY-eq}var f6=fM();var f0=f6==="bottomLeft"||f6==="bottomRight"?"top":"bottom";if(f5>=f1&&f5<=fY){fF.style.left=f5+"px";if(!fT()){fF.style.right="unset"}}if(f7>=50&&f7<=fZ){fF.style[f0]=f7+"px"}}};var eM=function(){var fW={position:fM(),top:fF.style.top,left:fF.style.left,bottom:fF.style.bottom,right:fF.style.right};cs.setObject(fp,fW)};var fM=function(){var fW=cs.getObject(f);var fX=typeof fW.position==="string"&&fW.position!=="";return fX?fW.position:"bottomRight"};var fg=function(){var fW=fM();return fW==="topLeft"||fW==="topRight"};var fT=function(){var fW=fM();return fW==="topLeft"||fW==="bottomLeft"};var eN=function(fX){var fW=Math.max(fX*ei(),fX)+"px";et.style.height=fW;et.style.marginBottom="-"+fX+"px"};var ev=function(){var f0=fM();var f2=cv.roistat.onlineChat.customPosition;var f4=f2&&f2.top!==null?f2.top:fc[f0].top;var fY=f2&&f2.right!==null?f2.right:fc[f0].right;var fW=f2&&f2.bottom!==null?f2.bottom:fc[f0].bottom;var fZ=f2&&f2.left!==null?f2.left:fc[f0].left;fF=d7(eD,fA);if(eg(fF)){fF.classList.add(fe);fF.setAttribute("style","visibility: hidden;top: "+f4+";right:"+fY+";bottom:"+fW+";left:"+fZ+";");et=d7(eD,fd);if(eg(et)){var f3=parseInt(f4==="unset"?fW:f4);eN(f3);cv.addEventListener("resize",function fX(){eN(f3)});if(d4){eh.addEventListener("resize",function f1(){eN(f3)})}}}};var eY=function(){if(eg(ex)){var fW=fM();ex.setAttribute("style","top: "+fH[fW].top+";bottom:"+fH[fW].bottom+";height:"+fH[fW].height+";")}};var eV=function(){if(eg(fK)){var fW=fM();fK.setAttribute("style","top: "+fO[fW].top+";right:"+fO[fW].right+";bottom:"+fO[fW].bottom+";left:"+fO[fW].left+";")
}};var e3=function(){fm("iframe appending to page");var fW=cy.decode(cs.get(C));eD=L.createElement("div");eD.innerHTML=fW;L.body.appendChild(eD);ex=d7(L,eP);ev();fN()};var e5=function(){var fX=cs.getObject(f);fm("start filling pulsator");if(fX){if(eg(fh)){fh.setAttribute("style","background: "+fX.button_color+";")}if(eg(eO)){eO.setAttribute("style","fill: "+fX.icon_color+";")}if(HTMLCollection.prototype.isPrototypeOf(ff)){for(var fW=0;fW<ff.length;fW++){ff[fW].setAttribute("style","fill: "+fX.button_color+";")}}}};var fy=function(){var fX=cy.decode(cs.get(bA));var fZ=!cW()&&cv.roistatOnlineChatOnly;var fY=(fX&&!d3()&&dZ())||fZ;if(fY){fm("pulsator appending to page");var fW=L.createElement("div");fW.innerHTML=fX;fK=fW.childNodes.item(0);if(!cv.roistat.multiwidget.isVisible){fm("Hide widget");fK.className=fK.className+" "+e0}fh=d7(fK,eT);eO=d7(fK,fD);ey=d7(fK,e1);ff=L.getElementsByClassName(eH);L.body.appendChild(fK);eV();eB();e5()}};var eB=function(){if(eg(fK)){ef(fK,"click",function(){ft();eu(fK)})}};function eu(fW){if(eg(fW)){fW.classList.toggle("opened")}}var fI=function(){return eg(fF)&&!fF.classList.contains(fe)};var ft=function(){setTimeout(function(){eS=false},3000);if(eg(fF)){fF.classList.toggle(fe)}if(fI()){fL()}eE()};var fl=function(){var fW=eW();if(eg(fW)){fW.classList.toggle(e0)}};var e2=function(fW){s=fW;if(!eg(fC)){return}ek()};var e4=function(fW){if(!eg(fC)){return}eK(fW)};var ej=function(fW){if(!eg(fC)){return}fV(fW)};var e7=function(){eQ=true;var fW=function(){setTimeout(function(){ft()},0)};cv.roistatOnlineChatShow=fW;cv.roistatOnlineChatToggle=fW;cv.roistatMultiwidgetShow=fl;fm("chat window initialized")};function eX(fW){dR(fW);eG()}function fk(){b8();e3();fv()}cv.roistat.onlineChat.actions.initWithMessage=e4;cv.roistat.onlineChat.actions.openChat=ej;cv.roistat.onlineChat.localization.translateToRussian=function(){e2(cp)};cv.roistat.onlineChat.localization.translateToEnglish=function(){e2(aD)};cv.roistat.onlineChat.localization.translate=function(fZ){var fY=cF[cp].includes(fZ),fX=cF[aD].includes(fZ),fW=fZ;if(fY){fW=cp}if(fX){fW=aD}e2(fW)};cL(fk)}};function d6(ej){z("Widgets: "+ej)}function e(ej){return ej!==ee}function dR(el){var ek=Object.keys(el);for(var ej=0;ej<ek.length;ej++){ea[ek[ej]]=el[ek[ej]]}}function d3(){var er=Number(cs.get(bQ)),ek=er&&dV&&dQ,ev=Number(cs.get(bl)),en=dZ(),es=Number(cs.get(cc)),eo=Number(cs.get(T)),ej=Number(cs.get(cN)),em=Number(cs.get(cY)),eu=Number(cs.get(dP)),et=ek||en||es||eo||ej||em||eu,el=ek&&!en&&!es&&!eo&&!ej&&!em&&!eu,eq=en&&!ek&&!es&&!eo&&!ej&&!em&&!eu,ew=!cW()&&cv.roistatOnlineChatOnly,ep=cW()&&dD();z("Is online chat only: "+ew);z("Is rp: "+ew);return ev&&et&&!eq&&!el&&!ew&&!ep}function dZ(){var ej=Number(cs.get(cZ));if(!ej){z("OnlineChat: Online chat is disabled");return false}var ek=cs.getObject(B);if(!ek.is_available_for_current_user_agent){z("OnlineChat: Current device group is disabled");return false}if(!ek.pages_filter.is_enabled){z("OnlineChat: Pages filter is disabled");return true}return bT(ek.pages_filter.pages.join(","))}function d0(){d6("Multiwidget disabled. Hide leadhunter pulsator from module")}function dT(ej,el,ek){cs.set(ca,cy.encode(ej));cs.set(bE,cy.encode(el));cs.setObject(b9,ek)}function dY(ek,ej){cs.set(dg,cy.encode(ek));cs.setObject(f,ej)}function dX(el,ej,ek){cs.set(bA,cy.encode(el));cs.set(C,cy.encode(ej));cs.set(cZ,ek)}function d2(ej,el,ek){dT(ej,el,ek);cs.set(dg,cy.encode(ee));cs.set(C,cy.encode(ee));d5=false;eb.leadHunter()}function dS(eu,eq,eo){var el=eu.form_template,ev=eu.pulsator_template,en=eu.pulsator_settings;if(dD()){d2(el,ev,en);return}d6("start initing widgets");var er=eo.pulsator_template,em=eo.iframe_template,et=eq.pulsator_template,ej=eq.pulsator_settings,ep=Number(cs.get(bQ)),ek=Number(eo.settings.is_enabled),es=cs.getObject(r)!==null;dT(el,ev,en);dY(et,ej);dX(er,em,ek);if(es){cs.set(ca,cy.encode(dU()))}d5=true;if(ep&&!aR()){d6("leadhunter enabled. Start processing");eb.leadHunter()}if(dZ()){d6("online chat enabled. Start processing");eb.onlineChat()}if(d3()){d6("multiwidget enabled. Start processing");eb.multiwidget()}}var dU=function(){var ej=bj()+"//"+x+"/api/site/1.0/"+be()+"/leadhunter/script/"+cs.get(a4)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+ej+'" frameborder="0"></iframe></div>'};function ed(){var el=cs.get(ca),ew=cs.get(bE),en=cs.getObject(b9),eq=Number(cs.get(bQ)),er=cs.get(bA),em=cs.get(C),ek=cs.get(cZ),et=cs.get(dg),ej=cs.getObject(f);cv.roistatLeadhunterForm=d2;cv.roistatMultiwidget=dS;if(!el||!ew||!en||!et||!ej||!er){d6("requesting data from server");if(d3()||dZ()||eq){a5(bj()+"//"+x+"/api/site/"+ao+"/"+be()+"/multiwidget?domain="+encodeURIComponent(L.domain))}}else{var ev=cy.decode(et);var es=cy.decode(em);if((!e(ev)||!e(es)||dD())&&!aR()){d6("initing LeadHunter form");cv.roistatLeadhunterForm(cy.decode(el),cy.decode(ew),en)}else{d6("initing multiwidget form");var eo={pulsator_template:ev,pulsator_settings:ej},ep={form_template:cy.decode(el),pulsator_template:cy.decode(ew),pulsator_settings:en},eu={iframe_template:es,pulsator_template:cy.decode(er),settings:{is_enabled:Number(ek)}};
cv.roistatMultiwidget(ep,eo,eu)}}}function d1(){ed();d6("form initialized")}function d9(){d6("activated");d1()}cL(d9);cv.setRoistatOnlineChatCustomParams=dR;cv.roistatSaveLeadHunterTemplates=dT;cv.roistatSaveMultiwidgetTemplate=dY;cv.roistatSaveOnlineChatTemplate=dX})();(function t(){var d3=function(){return i(dH)};var dT=function(){return i(U)};var d1=function(){return cs.get(bt)};var dU=function(){return cs.get(bG)};var d7=function(d9){return d9!=null&&d9!==bP&&d9!==""};var d6=function(){var d9=[];var ea=L.getElementsByClassName(ay);if(ea&&ea.length){d9=ea}return d9};var dR=function(){var d9=[];var ea=L.getElementsByClassName(K);if(ea&&ea.length){d9=ea}return d9};var dQ=function(){var d9=[];var ea=L.getElementsByClassName(aq);if(ea&&ea.length){d9=ea}return d9};var dW=function(){var d9=[];var ea=L.getElementsByClassName(N);if(ea&&ea.length){d9=ea}return d9};var dZ=function(){var d9=[];var ea=L.getElementsByClassName(dz);if(ea&&ea.length){d9=ea}return d9};var e=function(en,ed,ea){z("CallTracking: RenderPhone phone = "+en);var eg=function(ep){return ep.split(/[^0-9]/).join("")};var eh=function(es,eu){var ex=null;if(!es){return ex}var ep=eu.split(",");if(ep.length<2){ex=eu}else{var eq=es.getAttribute("data-prefix");if(eq){for(var et=0;et<ep.length;et++){var ev=ep[et];var ew=eg(ev);if(ew.indexOf("8")===0){ew="7"+ew.substring(1)}var er=ew.split(eq)[0]==="";if(er){ex=ev;break}}}if(ex===null){ex=ep[0]}z("CallTracking._getPhoneForElement: Prepared phone = "+ex+" for data-prefix = "+eq)}return ex};var ee=function(eu,es,er){var ev=eh(eu,es);var ep=er||ev;if(!ep||!eu){return}if(eu.tagName.toLowerCase()!=="a"){return}var et=eu.getAttribute("href");if(dj(et,"tel:")){var eq=er;if(!eq){eq=eg(ep);if(eq.indexOf("8")===0){eq="7"+eq.substring(1)}}eu.setAttribute("href","tel:+"+eq);ef(eu,ev)}};var ef=function(eq,ep){if(!eq.hasAttribute("title")){return}eq.setAttribute("title",ep)};var ej=function(er,eq){var ep=eh(er,eq);if(!ep||!er){return}er.innerHTML=ep};var eo=function(eq,ep){var er=d6();z("CallTracking: render phone default classes for "+er.length+" elements");q(er,function(es){ej(es,eq);ee(es,eq,ep)});q(dR(),function(et){var es=eh(et,eq).match(/^\D*(\d+)(?:[(|\s])/);ej(et,bD(es)?es[1]:"")});q(dQ(),function(et){var eu=eh(et,eq).match(/\((\d+)\)|\s(\d+)\s/);var es=(bD(eu)?(eu[1]||eu[2]):"").trim();ej(et,es)});q(dW(),function(et){var es=eh(et,eq).match(/(\(\d+\)|\s\d+\s)(.+)/);var eu=(bD(es)?es[2]:"").trim();ej(et,eu)});q(dZ(),function(es){ee(es,eq,ep)})};var em=function(ev,eq,er){if(!er){return}z("CallTracking: render phone user replacement for "+er.length+" replacements");for(var et=0;et<er.length;et++){var ew=er[et];if(!ew){continue}var ex=ew[0];ew=ew.substr(1);var ep=[];if(ex==="#"){var eu=L.getElementById(ew);if(eu!==null){ep.push(eu)}}else{ep=L.getElementsByClassName(ew);ec(ew,ev,eq)}if(!ep||ep.length<1){continue}z("CallTracking: render phone for "+ew+", "+ep.length+" elements");for(var es=0;es<ep.length;es++){ej(ep[es],ev);ee(ep[es],ev,eq)}}};var ei=function(ep){for(var eq=0;eq<ep.length;eq++){em(ep[eq].phone,ep[eq].raw_phone,ep[eq].css_selectors);el(ep[eq].phone,ep[eq].raw_phone,ep[eq].replaceable_numbers)}};var el=function(es,er,eq){if(!eq||eq.length===0){return}var ep=function(){var eD=ew();var eC=L.getElementsByTagName("*");var ex=eC.length;for(var eB=0;eB<ex;eB++){var eE=eC[eB];et(eE,eD,eh(eE,es));var eA=eE.childNodes.length;for(var ey=0;ey<eA;ey++){var ez=eE.childNodes[ey];ev(ez,eD,eh(ez,es))}}};var et=function(eB,eA,ex){if(!eu(eB)){return}var eC=eB.getAttribute("href").replace("tel:","");var ez=eA.length;for(var ey=0;ey<ez;ey++){if(eA[ey].test(eC)){ee(eB,eh(eB,ex),er)}}};var eu=function(ey){if(ey.tagName.toLowerCase()!=="a"){return false}var ex=ey.getAttribute("href");return a9(ex)&&ex.indexOf("tel:")===0};var ew=function(){var ez=[];for(var ex=0;ex<eq.length;ex++){var ey="[\\s()[\\]{}\\-+.]*";var eA=eq[ex].split("").join(ey);ez.push(new RegExp("[+(]?"+eA,"g"))}return ez};var ev=function(eA,ez,ex){if(eA.nodeType!==Node.TEXT_NODE){return}for(var ey=0;ey<ez.length;ey++){if(eA.textContent&&ez[ey].test(eA.textContent)){eA.textContent=eA.textContent.replace(ez[ey],ex)}else{if(eA.innerText&&ez[ey].test(eA.innerText)){eA.innerText=eA.innerText.replace(ez[ey],ex)}}}};ep()};var ec=function(er,eq,ep){q(eb(er+"-"+bY),function(et){var es=eh(et,eq).match(/^\D*(\d+)(?:[(|\s])/);ej(et,bD(es)?es[1]:"")});q(eb(er+"-"+aX),function(et){var eu=eh(et,eq).match(/\((\d+)\)|\s(\d+)\s/);var es=(bD(eu)?(eu[1]||eu[2]):"").trim();ej(et,es)});q(eb(er+"-"+bs),function(et){var es=eh(et,eq).match(/(\(\d+\)|\s\d+\s)(.+)/);var eu=(bD(es)?es[2]:"").trim();ej(et,eu)});q(eb(er+"-"+cg),function(es){ee(es,eq,ep)})};var eb=function(eq){var ep=[];var er=L.getElementsByClassName(eq);if(er&&er.length){ep=er}return ep};var ek=function ek(){var eq=dU();if(eq){eq=eq.split("\n");for(var ep=0;ep<eq.length;ep++){eq[ep]="."+eq[ep]}}if(ea instanceof Array){ei(ea)}else{eo(en,ed);em(en,ed,eq)}};(function d9(){ek();var ep=[300,5000,15000];ep.forEach(function(eq){setTimeout(ek,eq)
})})()};var dS=function(d9){cs.save(n,d9,c7)};var d2=function(){if(cv.roistat.callTracking.phone){var d9={expires:parseInt(cv.roistat.callTracking.sessionTime),path:"/"};if(c7.domain){d9.domain=c7.domain}dA(dH,cv.roistat.callTracking.phone,d9);dA(U,cv.roistat.callTracking.rawPhone,d9);dS(1);cs.save(bG,cv.roistat.callTracking.replacementClasses,c7);cs.save(bt,cv.roistat.callTracking.phoneScriptsJson,c7)}};var d0=function(eb,ef,ed,ec,ea){z("CallTracking: reuse phone "+eb+" for time "+ef+" and replacements "+ed);var d9='script[data-roistat-script-id="'+Z+'"]';L.querySelectorAll(d9).forEach(function(ei,eh){if(eh===0){return}ei.remove()});z("CallTracking: all old scripts removed");if(!d7(eb)){z("CallTracking: new phone is invalid");roistat.callTracking.phone=null;dm();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=eb;roistat.callTracking.sessionTime=ef;roistat.callTracking.replacementClasses=ed;roistat.callTracking.phoneScriptsJson=ec;roistat.callTracking.rawPhone=ea;dm();d2();var eg={expires:parseInt(ef),path:"/"};if(c7.domain){eg.domain=c7.domain}dA(dH,eb,eg);dA(U,ea,eg);cs.save(bt,ec,c7);cs.save(bG,ed,c7);var ee=ds(ec);e(eb,ea,ee)};var dV=function(){z("CallTracking: request new phone");var d9=i(cl);var ed=au();var ec=ed?ed:bH;var eb=encodeURIComponent(cJ);var ea=R()+"/get-phone?visit="+d9+"&marker="+(ec?ec:"")+"&prefix="+cT+"&prefix_bind="+dI+"&phone_scripts_bind="+W+"&page="+eb;a5(ea,Z)};var dX=function(){cT=cv.roistatPhonePrefix?cv.roistatPhonePrefix:"";dI=cv.roistatPhonePrefixBind?cv.roistatPhonePrefixBind:"";W=cv.roistatCalltrackingScripts&&cv.roistatCalltrackingScripts.join?cv.roistatCalltrackingScripts.join(","):"";z("CallTracking: refresh phone with prefix: "+cT+", binding: "+dI+", scripts: "+W);dV()};var d8=function(){var d9=cs.get(n)>0;var ea=cb.callTrackingEnabled;return d9&&ea};var dY=function(d9){dS(d9.is_enabled)};var d5=function d5(){var ea=d3();if(!d7(ea)){z("CallTracking: invalid phone "+ea+", requesting a new one");dV()}else{z("CallTracking: render phone "+ea);var d9=dT();var eb=ds(d1());e(ea,d9,eb)}};var d4=function(){z("CallTracking: init");if(aR()){z("CallTracking: Shut down because only online chat need to be inited");return}d2();if(!d8()){z("CallTracking: disabled, skip");return}if(cb.callTrackingManual){z("CallTracking: init finish because off manual");return}d5();aE(d5)};cv.roistatCallTrackingRefresh=dX;cv.roistatRequestNewPhone=dV;cv.roistatReusePhone=d0;cv.roistatCalltrackingUpdateSettings=dY;cL(d4)})();(function F(){var dR=function(dX){z("Emailtracking: "+dX)};var dV=function(dX,dZ,dY){cs.save(bF,dX,c7);cs.save(b,dZ,c7);cs.save(bU,JSON.stringify(dY),c7)};var dQ=function(){var dX=(cv.roistat.emailtracking.email&&cv.roistat.emailtracking.trackingEmail)||aY(cv.roistat.emailtracking.emails);if(cv.roistat.emailtracking.loaded&&dX){dR("save loaded email: "+cv.roistat.emailtracking.email);dV(cv.roistat.emailtracking.email,cv.roistat.emailtracking.trackingEmail,cv.roistat.emailtracking.emails)}else{dR("settings save skip, because not loaded");cv.roistat.emailtracking.email=cs.get(bF);cv.roistat.emailtracking.email=cv.roistat.emailtracking.email?cv.roistat.emailtracking.email:null;cv.roistat.emailtracking.email=cv.roistat.emailtracking.email==="null"?null:cv.roistat.emailtracking.email;dR("email loaded from storage: "+cv.roistat.emailtracking.email);cv.roistat.emailtracking.trackingEmail=cs.get(b);cv.roistat.emailtracking.trackingEmail=cv.roistat.emailtracking.trackingEmail?cv.roistat.emailtracking.trackingEmail:null;cv.roistat.emailtracking.trackingEmail=cv.roistat.emailtracking.trackingEmail==="null"?null:cv.roistat.emailtracking.trackingEmail;dR("tracking email loaded from storage: "+cv.roistat.emailtracking.trackingEmail);cv.roistat.emailtracking.emails=ds(cs.get(bU));cv.roistat.emailtracking.emails=cv.roistat.emailtracking.emails?cv.roistat.emailtracking.emails:null;dR("emails loaded from storage: "+JSON.stringify(cv.roistat.emailtracking.emails))}};var dT=function(dX){dV(dX.email,dX.trackingEmail,dX.emails)};var dS=function(){var dX=(!!cv.roistat.emailtracking.email&&!!cv.roistat.emailtracking.trackingEmail)||aY(cv.roistat.emailtracking.emails);return cv.roistat.emailtracking.enabled&&dX};var e=function(){if(!dS()){dR("emailtracking disabled, skip swapping");return}var dY=function(d3,d4,d2){if(d3.href){var d1=aL(d3.href);if(d4.test(d1)){d3.href=d1.replace(d4,d2);return true}}if(d3.nodeType!==3){return false}if(d3.textContent&&d4.test(d3.textContent)){d3.textContent=d3.textContent.replace(d4,d2);return true}else{if(d3.innerText&&d4.test(d3.innerText)){d3.innerText=d3.innerText.replace(d4,d2);return true}}return false};var dX=function(d1){return d1.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var dZ=function(d3,d2){var d1=!d2.match(/[a-z]/);return d1?d3.toUpperCase():d3};var d0=function(d9,eb){var ec=dX(d9);var d3=new RegExp("(^|\\s)(mailto:)?("+ec+")($|\\s|\\?)","gi");var ed=function(ei,eg,ee,ef,eh){ee=ee||"";return eg+ee+dZ(eb,ef)+eh};dR("starting to replace email "+d9+" to "+eb+" with regexp "+d3);
var d2=L.getElementsByTagName("*");var d5=d2.length;dR("found "+d5+" nodes on page");var d8=0;for(var d7=0;d7<d5;d7++){var d4=d2[d7];var ea=d4.childNodes.length;if(ea>0){for(var d6=0;d6<ea;d6++){var d1=d4.childNodes[d6];if(dY(d1,d3,ed)){d8++}}}if(dY(d4,d3,ed)){d8++}}dR("successfully replaced "+d8+" nodes")};if(cv.roistat.emailtracking.emails){bw(cv.roistat.emailtracking.emails,d0)}else{d0(cv.roistat.emailtracking.email,cv.roistat.emailtracking.trackingEmail)}};var dU=function(){dR("process email swap");e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};var dW=function(){dR("init");if(aR()){dR("Shut down because only online chat need to be inited");return}aE(dU);dQ();dU()};cv.roistatEmailtrackingUpdateSettings=dT;cv.roistat.emailtracking.refresh=e;cL(dW)})();(function by(){var dS=function(dU){z("MultiDomain: "+dU)};var dR=function(){return cs.get(c9)>0};var dQ=function(dY){var dZ=function(d1){if(!d1){return false}if(dj(d1,"roistat_visit")){return false}var d0=bi(d1);var d3=bi(L.domain);var d2=new RegExp(/^((https?:)?\/\/)?([A-ZА-ЯЁ0-9\_\-\~]+\.)+[A-ZА-ЯЁ0-9\_\-\~]+/i);return d0!==d3&&d2.test(d1)};var dX=function(d3){var d4=d3.split("#");var d2=d4[0].split("?");var d0="";var d1="";if(d2.length===2){d0=d2[1]}if(d0){d1="&"}d0=d0+d1+"roistat_visit="+roistat.getVisit();d2[1]=d0;d4[0]=d2.join("?");return d4.join("#")};if(dY.tagName.toLowerCase()!=="a"){return}var dW=dY.getAttribute("href");var dV=false;if(dZ(dW)){var dU=dX(dW);dS("update url "+dW+" > "+dU);dY.setAttribute("href",dU);dV=true}return dV};var e=function(){if(!dR()){dS("disabled, skip");return}var dU=L.getElementsByTagName("a");var dV=dU.length;dS("found "+dV+" <a> nodes on page");var dY=0;for(var dW=0;dW<dV;dW++){var dX=dU[dW];if(dQ(dX)){dY++}}dS("replaced "+dY+" nodes")};var dT=function(){dS("init");if(aR()){dS("Shut down because only online chat need to be inited");return}e();setTimeout(function(){e()},300);setTimeout(function(){e()},5000);setTimeout(function(){e()},15000)};cL(dT)})();(function di(){var e=60*1000;var dW=2*60*1000;var dQ=function(dY){z("SettingsUpdater: "+dY)};var dU=function(){cs.set(af,cz())};var dV=function(){var dZ=dp();var dY=!(dZ>0);dQ("is first update check: lastUpdateTime="+dZ+", result="+(dY?1:0));return dY};var dX=function(){var d0=cz()-dW;var dZ=dp();var dY=dZ<=d0;dQ("expiration check: _minTime="+d0+", lastUpdateTime="+dZ+", result="+(dY?1:0));return dY};var dR=function(dZ){var dY=i(cl);a(dY,dZ)};var dS=function(dZ){dQ("update settings and save last update time");var dY=cs.getObject(r)!==null;if(dY){var d0=ds(dZ.js_settings.leadHunterTargetPagesMap);if(d0!==null){cs.setObject(r,d0)}}cv.roistatCalltrackingUpdateSettings(dZ.calltracking);cv.roistatEmailtrackingUpdateSettings(dZ.emailtracking);cv.roistatSaveLeadHunterTemplates(dZ.leadhunter_templates.form_template,dZ.leadhunter_templates.pulsator_template,dZ.leadhunter_templates.pulsator_settings);cv.roistatSaveMultiwidgetTemplate(dZ.multiwidget_templates.pulsator_template,dZ.multiwidget.pulsator_settings);cv.roistatSaveOnlineChatTemplate(dZ.online_chat_templates.pulsator_template,dZ.online_chat_templates.iframe_template);cv.roistatSaveProxyFormSettings(dZ.proxy_forms);bm(dZ.js_settings);c8(dZ.multiwidget.multiwidget_settings);cw(dZ.online_chat);v(dZ.geo);cH(dZ.promo_code);cn.isSettingsUpdating=false;dU()};var dT=function(){dQ("init");if(dV()){dQ("in first update we just start first timer and skip");dU();return}if(!dX()){dQ("update is not not expired, skip");return}dQ("start to update settings");dR()};cL(function(){cv.roistatUpdateSettings=dS;setTimeout(function(){dT()},3000);dQ("set interval to update settings");setInterval(function(){dT()},e)})})();(function b3(dT,e,dV){var dS={};var dQ=function(dX){var dW=encodeURIComponent?encodeURIComponent:encodeURI;return dW(dX)};var dR=function(d3,dX){z("Reach goal start");if(!d3){d3={}}var d0={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:cM(),is_skip_sending:0,items:"",placeholders_data:"",engine_type:""};for(var dZ in d0){if(!Object.prototype.hasOwnProperty.call(d0,dZ)){continue}if(!Object.prototype.hasOwnProperty.call(d3,dZ)){continue}if(!d3[dZ]){continue}if(dZ==="fields"||dZ==="client_fields"||dZ==="items"||dZ==="placeholders_data"){d3[dZ]=JSON.stringify(d3[dZ])}d0[dZ]=dQ(d3[dZ])}var d2=be();var d1=bj()+"//"+x+"/api/site/"+ao+"/"+d2+"/reach-goal?v=2";for(var dY in d0){if(!Object.prototype.hasOwnProperty.call(d0,dY)){continue}d1=d1+"&"+dY+"="+d0[dY]}if(dX!==dV){var dW=Math.random().toString();dS[dW]=dX;d1+="&callback_key="+dW}a5(d1);z("Reach goal completed")};var dU=dT.roistatGoal={reach:function(dX,dW){dR(dX,dW)},callAfterReachCallback:function(dW){if(Object.prototype.hasOwnProperty.call(dS,dW)){dS[dW]();delete dS[dW]}}}})(cv,L,bP);(function dC(dS,e,dT){var dQ=function(dV){if(dV instanceof Array||dV===null||typeof dV!=="object"){z("Invalid event data");return""}return dR(dV)};var dR=function(dW,d0,dZ){var dY=d0||0;
var dV=dZ||[];if(dY>20){z("Recursion depth exceeded when processing additional event fields");return""}dY++;var d3=[];for(var d2 in dW){if(Object.prototype.hasOwnProperty.call(dW,d2)){var d1=dW[d2];if(typeof d1==="string"||typeof d1==="number"){var dX=dV.length>0?"["+dV.join("][")+"]":"";d3.push("&data"+dX+"["+encodeURIComponent(d2)+"]="+encodeURIComponent(d1))}else{if(typeof d1==="object"){dV.push(encodeURIComponent(d2));d3.push(dR(d1,dY,dV));dV.pop()}else{z("Event data property ignored: "+d2)}}}}return d3.length>0?d3.join(""):""};var dU=function(dX,dZ){z("Send event start");var dV=o();var dY=dQ(dZ);H("Name: "+dX+" Data: "+dY+" VisitId: "+dV);var dW=R()+"/event/register?visit="+dV+"&event="+dX+dY;a5(dW);z("Send event completed")};dS.roistat.event={send:function(dV,dW){dU(dV,dW)}}})(cv,L,bP);(function ct(dZ,d1,dS){if(aR()){z("VisitApprove: Shut down because only online chat need to be inited");return}var d2=dZ.roistatIsInitVisit===true?20000:10000;var dR=(new Date()).getTime();var dQ=function(d6){return"approve_visit_"+d6};var dY=function(d6){ci.set(dQ(d6),1)};var d3=function(d6){return ci.get(dQ(d6))>0};var e,dU,d5=[];if(d1.addEventListener){e=function(d7,d6,d8){return d7.addEventListener(d6,d8,false)};dU=function(d7,d6,d8){return d7.removeEventListener(d6,d8,false)}}else{e=function(d7,d6,d8){return d7.attachEvent("on"+d6,d8)};dU=function(d7,d6,d8){return d7.detachEvent("on"+d6,d8)}}var dX=function(d9){if(d5.length>30){return}d9=d9||dZ.event;if(!d9||!d9.screenX){return}var d8=(new Date()).getTime();var eb,ea=null;if(d5.length>0){ea=d5[d5.length-1]}if(ea){eb=d8-ea.time}else{eb=d8-dR}if(eb<300){return}eb=eb-300;var ed=0;var d6=d9.screenX;var ec=d9.screenY;if(ea){ed=parseInt(Math.sqrt(Math.pow(ea.y-ec,2)+Math.pow(ea.x-d6,2)))}var d7={time:d8,pauseBeforeMove:eb,x:d6,y:ec,distance:ed};d5.push(d7)};var dW=function(){var d6=[];q(d5,function(d7){var d8=[d7.pauseBeforeMove,d7.distance];d6.push(d8.join(":"))});if(d6.length===0){d6.push("0:0")}return d6.join("|")};var dT=function(){for(var d6 in dZ){if(dj(d6,"yaCounter")){return true}}return false};var d0=function(){dU(d1,"mousemove",dX);var d6=o();z("VisitApprove: start for visit "+d6);if(d3(d6)){z("VisitApprove: visit already approved, skip");return}dY(d6);aH();var d7=R()+"/approve?v="+ab+"&visit="+d6;if(d4()){d7+="&hash="+az()}if(dV()){d7+="&page_params="+encodeURIComponent(JSON.stringify(dZ.roistat.page.params));g()}d7+="&mv="+dW();d7+="&pl="+(dZ.navigator?dZ.navigator.platform:"");d7+="&ym="+(dT()?"1":"0");d7+="&wd="+(dZ.navigator?(dZ.navigator.webdriver===true?"1":"0"):"0");a5(d7)};var d4=function(){var ea=cn.cookies,d9=m();var ec=bp();for(var d7=0;d7<ec.length;d7++){var eb=ec[d7];var ed=Object.prototype.hasOwnProperty.call(ea,eb)?ea[eb]:dS;var d6=Object.prototype.hasOwnProperty.call(d9,eb)?d9[eb]:dS;var d8=typeof d6==="string"&&d6.length>0;if(d8&&ed!==d6){return true}}return false};var dV=function(){var eb=cn.pageParams,d8=dZ.roistat.page.params;for(var d7=0;d7<cU.length;d7++){var d6=cU[d7];var d9=Object.prototype.hasOwnProperty.call(eb,d6)?eb[d6]:null;var ea=Object.prototype.hasOwnProperty.call(d8,d6)?d8[d6]:null;if(ea!==d9){return true}}return false};setTimeout(function(){d0()},d2);e(d1,"mousemove",dX)})(cv,L,bP);(function aF(dV,dW,dR){var dT=function(){return ae("roistat_ab_demo")==="1"};var dX=function(d0){return new RegExp(d0.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var dU=function(d5){var d0=dV.location.href,d3=d5.filter,d9=d5.filterValue;var d6;switch(d3){case"except":case"pages":var d1,d8,d7=false;d8=d0?aT(d0):"";d6=d9?d9.split("\n"):[];if(d8&&d6.length!==0){for(var d2=0;d2<d6.length;d2++){var d4=d6[d2].trim();if(d4.length===0){continue}d1=dX(d4);if(d1.test(d8)){d7=true;break}}}return(d3==="pages")?d7:!d7;break;case"all":default:return true}};var dQ=function(d2){var d0=dW.getElementsByTagName("head")[0],d1;d1=dW.createElement("style");d1.setAttribute("type","text/css");if(d1.styleSheet){d1.styleSheet.cssText=d2.value}else{d1.innerText=d2.value}d0.appendChild(d1);z("Applied css-test: "+d2.id)};var e=function(d0){if(Object.prototype.hasOwnProperty.call(c6.onAbTestsApplied,d0.id)){c6.onAbTestsApplied[d0.id](d0.value)}z("Applied uniform-test: "+d0.id)};var dS=function(d0){if(dU(d0)){switch(d0.type){case"css":dQ(d0);break;case"uniform":e(d0);break}}};dV.applyTests=function(){z("Start applying ab tests");var d0=cs.getObject("abTesting");var d2,d1;for(d2 in d0){if(!Object.prototype.hasOwnProperty.call(d0,d2)){continue}d1=d0[d2];dS(d1)}cn.isAbTestsApplied=true;z("End applying ab tests");if(dV.onRoistatAbTestsApplied!==dR&&typeof dV.onRoistatAbTestsApplied==="function"){dV.onRoistatAbTestsApplied()}};var dY=function(){z("Call: apply demo AB test");var d0=ae("roistat_ab_data");var d1;if(d0===null){return}else{d1=JSON.parse(cy.decode(d0))}if(typeof d1!=="object"){z("Error: testValue is not an object.");return}dS(d1)};function dZ(){if(aR()){z("ABTest: Shut down because only online chat need to be inited");return}var d0=dT();if(!de&&!d0){applyTests()
}if(d0){dY()}}dZ()})(cv,L,bP);(function cR(dQ,e,dR){if(aR()){z("visitStream: Shut down because only online chat need to be inited");return}if(!dh){return}setTimeout(function(){(function(dY,dX,d1,d0,dV,dT,dW){dY[dV]={COUNTER_ID:dT,HOST:dW};var dU=dX.location.protocol=="https:"?"https://":"http://";var dS=dX.createElement(d1);dS.async=1;dS.src=dU+dW+d0;var dZ=dX.getElementsByTagName(d1)[0];dZ.parentNode.insertBefore(dS,dZ)})(dQ,e,"script","/counter.js","datamap",be(),dh)},1000)})(cv,L,bP);(function cq(dR,e,dS){var dT=function(){var dU=dR.roistatMetrikaCounterId;if(dU){cs.set(a7,dU)}};var dQ=function(dZ){var dU="yaCounter"+dZ;var dY=100,dW=0,dX=60000;var dV=function(){dW+=dY;z("YandexMetrika: trying to access counter "+dZ);if(dR[dU]===dS){if(dW<dX){setTimeout(dV,dY);dY*=2}return}var d0={};d0[c4]=o();dR[dU].params(d0);z("YandexMetrika: visit id "+d0[c4]+" sent to counter "+dZ)};setTimeout(dV,dY)};cL(function(){dT();var dW=cs.get(a7);if(!dW){z("YandexMetrika: counter id not found");return}var dV=String(dW).split(",");z("YandexMetrika: counters: "+dV);for(var dU=0;dU<dV.length;dU++){if(dV[dU].trim()===""){continue}dQ(dV[dU])}})})(cv,L,bP);(function aA(dZ,d3){var d7=function(ea){z("Proxy Forms: "+ea)};var dW=function(){if(dZ.roistat.proxyForms.loaded&&dZ.roistat.proxyForms.settings.length>0){d7("save loaded settings");d4(dZ.roistat.proxyForms.settings)}else{d7("settings not loaded, getting from storage");dZ.roistat.proxyForms.settings=cs.getObject(dB)||[]}};var d4=function(ea){cs.setObject(dB,ea)};var d0=function(){d7("init form listener");dS(dZ.roistat.proxyForms.settings);e(dZ.roistat.proxyForms.settings)};var d9=function(ea){return ea.hasOwnProperty("hosts")&&ea.hasOwnProperty("is_excluding_hosts")&&bD(ea.hosts)&&ea.hosts.length>0};var dU=function(eb){if(!d9(eb)){return true}var ec=dq(eb.hosts,bi(dZ.location.host));var ea=Boolean(eb.is_excluding_hosts);return ea?!ec:ec};var dR=function(eb){var ea=[];q(eb,function(ec){if(dU(ec)){ea.push(ec)}});return ea};var e=function(ea){var ec=[];q(ea,function(ed){if(ed.type==="js-button"){ec.push(ed)}});if(ec.length<1){d7("no button settings");return}var eb;if(d3.addEventListener){eb=function(ed){dV(ec,ed,ed.target,dT)};d3.addEventListener("click",eb,true)}else{if(d3.attachEvent){eb=function(){var ed=dZ.event;dV(ec,ed,ed.srcElement,dT,true)};d3.attachEvent("onclick",eb)}else{d7("Listener could not be attached")}}};var dS=function(eb){H("Proxy form debug: start");var ea=[];q(eb,function(ed){if(ed.type==="form"){ea.push(ed)}});if(ea.length<1){d7("no form settings");return}if(d3.addEventListener){var ec=function(ed){dV(ea,ed,ed.target,d8)};d3.addEventListener("submit",ec,true)}else{if(d3.attachEvent){setInterval(function(){ea=dR(ea);var ed=d3.getElementsByTagName("form");q(ed,function(ee){if(ee.getAttribute("data-roistat-proxy-form-checked")==="true"){return}ee.setAttribute("data-roistat-proxy-form-checked","true");q(ea,function(ef){if(dQ(ee,ef.selector)){ee.attachEvent("onsubmit",function(){dZ.event.returnValue=false;H("Proxy form debug: start sending form lead");d8(ef,dZ.event.srcElement)})}})})},2000)}else{d7("Listener could not be attached")}}};var dV=function(ed,ee,ef,ec,ea){var eg=dR(ed);var eb=null;q(eg,function(eh){if(dQ(ef,eh.selector)){eb=eh}});if(eb===null){d7("No matched settings found for listener");return}ec(ee,eb,ef,ea)};var d8=function(ee,ec,ed,eb){var ea=d2(ed,ec);if(!d5(ea,ec)){H("Proxy form debug: lead fields is not valid");return}eb?ee.returnValue=false:ee.preventDefault();H("Proxy form debug: sending lead");dX(ea,ec,function(){HTMLFormElement.prototype.submit.call(ed)})};var dT=function(ec,eb){var ea=d2(null,eb);if(!d5(ea,eb)){return}dX(ea,eb)};var dX=function(ea,ed,ef){var ee={};var ec=dY(ed.crm)&&ed.crm.hasOwnProperty("is_enabled");var eb=ec?ed.crm.is_enabled:true;ee.leadName=ed.hasOwnProperty("lead_name")?ed.lead_name:"Новый лид с формы "+ed.title;ee.formTitle=ed.title;ee.name=ea.name;ee.phone=ea.phone;ee.email=ea.email;ee.text=ea.comment;ee.fields=ea.fields;ee.placeholders_data=ea.placeholdersData;ee.is_need_callback=ed.is_need_callback>0?1:0;ee.is_skip_sending=!eb;dZ.roistatGoal.reach(ee,ef)};var dY=function(ea){return(typeof ea==="number"&&!isNaN(ea))||(typeof ea==="string"&&ea!=="")||(typeof ea==="object"&&ea!==null)||(typeof ea==="boolean"&&ea)||bD(ea)};var d5=function(ea,ec){var eb=[],ee=["name","email","phone","comment"];q(ee,function(ef){if(ec.hasOwnProperty(ef)&&ec[ef].required>0){eb.push(ef)}});if(bD(ec.fields)){q(ec.fields,function(ef){if(ef.required>0){eb.push(ef)}})}var ed=true;q(eb,function(ef){if(!ea.hasOwnProperty(ef)||!dY(ea[ef])){ed=false}});return ed};var d2=function(ec,eb){var ea={};ea.name=eb.name?d1(ec,eb.name.value,eb.name.type):"";ea.phone=eb.phone?d1(ec,eb.phone.value,eb.phone.type):"";ea.email=eb.email?d1(ec,eb.email.value,eb.email.type):"";ea.comment=eb.comment?d1(ec,eb.comment.value,eb.comment.type):"";ea.fields={};ea.placeholdersData={orderPage:cJ};if(bD(eb.fields)){q(eb.fields,function(ed){ea.fields[ed.name]=d1(ec,ed.value,ed.type)
})}return ea};var d1=function(eb,ee,ea){switch(ea){case"plain":return ee||"";case"input":var ed=eb.querySelector('input[name="'+ee+'"]');return ed?ed.value:"";case"js":try{return(new Function(ee))()}catch(ec){return""}}};var d6=function(){d7("init");if(aR()){d7("Shut down because only online chat need to be inited");return}if(!dZ.roistat.proxyForms.enabled){d7("disabled");return}dW();d0()};var dQ=function(ed,eb){if(typeof Element!=="undefined"&&Element.prototype.matches){var ea=ed.matches(eb);if(!ea){return ed.closest(eb)?ed.closest(eb).matches(eb):false}return ea}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var ee=ed.matchesSelector(eb);if(!ee){return ed.closest(eb)?ed.closest(eb).matches(eb):false}return ee}else{if(d3.querySelectorAll){var ef=d3.querySelectorAll(eb);for(var ec=0;ec<ef.length;ec++){if(ef[ec]===ed){return true}}return false}}}return false};cL(d6);dZ.roistatSaveProxyFormSettings=d4})(cv,L);(function Q(){if(cv.onRoistatAllModulesLoaded!==bP&&typeof cv.onRoistatAllModulesLoaded==="function"){z("onRoistatAllModulesLoaded: call");cv.onRoistatAllModulesLoaded()}})();(function bf(dW,dZ,dT){var e=function(){return cs.get(av)*1>0};var dY=function(d5){z("Request listener: "+d5)};var d4=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var dX=/^[^\s]+[@][^\s]+$/g;var dS=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var dR=function dR(){dY("listen");if(dW.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function d7(ea){var d9=this;d0(d9.responseURL,ea,function(){d9.oldSend(ea)})}XMLHttpRequest.prototype.send=d7}if(dW.ActiveXObject){var d6=d8;function d8(eb){var d9=new d6(eb);var ec={};if(eb.toLowerCase()==="msxml2.xmlhttp"){ec={_ax:d9,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var ea="";ec._onReadyStateChange=function(){var ed=ec;return function(){ed.readyState=ed._ax.readyState;if(ed.readyState===4){ed.responseText=ed._ax.responseText;ed.responseXml=ed._ax.responseXml;ed.status=ed._ax.status;ed.statusText=ed._ax.statusText}if(ed.onReadyStateChange){ed.onReadyStateChange()}}}();ec.open=function(eh,ef,eg,ed,ee){ea=ef;eg=(eg!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(eh,ef,eg,ed,ee)};ec.send=function(ed){var ee=this;d0(ea,ed,function(){this._ax.send(ed)})}}else{ec=d9}return ec}dW.ActiveXObject=d8}if(dW.fetch){var d5=fetch;fetch=function(d9,ea){d0(d9.url,ea||{});return d5(d9,ea||{})}}dW.addEventListener("submit",function(ec){var ee=ec.target.elements;var ed={};for(var eb=0;eb<ee.length;eb++){var ea=ee[eb];var d9=ea.getAttribute("name");ed[d9]=ea.value}d0("",ed)})};function dU(d5){var d8={};if(d5.length===0){return d8}var d7=d5.split("?");if(d7.length<2){return d8}var d6=d7[1];d8=dQ(d6);return d8}function dQ(d6){var d7=d6.split("&"),d9={};for(var d5=0;d5<d7.length;d5++){var d8=d7[d5].split("=");if(d8.length<2){continue}d9[d8[0]]=d8[1]}return d9}function d2(em){dY("data: "+JSON.stringify(em));var ef={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var ec={email:"",phone:"",name:""};for(var d5 in ef){var ei=ef[d5];for(var eh in ei){if(ei.hasOwnProperty(eh)){if(em.hasOwnProperty(ei[eh])){ec[d5]=em[ei[eh]];break}}}}dY("new data: "+JSON.stringify(ec));var d7=ec.phone.length===0;var eb=ec.email.length===0;if(!d7&&!eb){return ec}var d6=new RegExp(dX);var ea=new RegExp(d4);var ed=Object.keys(em);for(var ej=0;ej<ed.length;ej++){var eg=decodeURIComponent(String(em[ed[ej]]));if(eb){var d8=eg.match(d6);if(d8&&d8.length>0){var ee=ec.email;ec.email=d8[0];dY("parsing email, before: "+ee+", after: "+ec.email)}}if(d7){var el=eg.replace(/[\s-.()+*_—:;'"`]/g,"");var ek=el.match(ea);if(ek&&ek.length>0){var d9=ec.phone;ec.phone=eg;dY("parsing phone, before: "+d9+", after: "+ec.phone)}}}return ec}var dV=function(d5){var d6=bi(d5);return !aB(dS,d6)};function d0(d7,d6,d5){if(d7.length>0&&!dV(d7)){return}var d9=dU(d7);var eb=d6;if(typeof eb==="string"){eb=dQ(eb)}dY("data before parsing "+JSON.stringify({get:d9,post:eb}));var ea=d2(d9);var d8=d2(eb);dY("data after parsing "+JSON.stringify({get:ea,post:d8}));d1(ea,d8,d5)}function d1(d5,d7,eb){var ea=d5.email.length>0?d5.email:d7.email;var d6=d5.phone.length>0?d5.phone:d7.phone;var d9=d5.name.length>0?d5.name:d7.name;if(ea.length==0&&d6.length==0){eb();return}setTimeout(function(){eb()},100);var d8={leadName:"Автоматический лид с сайта",name:d9,phone:d6,email:ea,is_skip_sending:1};dY("phone or email is not empty, reaching goal "+JSON.stringify(d8));roistatGoal.reach(d8)}(function d3(){if(!e()){dY("disabled, skip");return}dR()})()})(cv,L,bP)})(window,document,undefined);