function stickyNavigation(){let nav=document.getElementById('site-navbar');let navHeight=nav.offsetHeight;let navTop=document.querySelector('.page__content').offsetTop;let headerData=document.querySelector('.site-navbar-right');let topbarPhone=document.querySelector('.site-topbar-phone');let topbarButtons=document.querySelector('.site-topbar-buttons');if(window.scrollY>=navTop){document.body.style.paddingTop=navHeight+'px';document.body.classList.add('fixed-nav');document.querySelector('.site-topbar-city-popup').classList.remove('active');document.querySelector('.js-toggle-city').classList.remove('open');nav.classList.add('sticky');}else{document.body.style.paddingTop=null;document.body.classList.remove('fixed-nav');nav.classList.remove('sticky');}}
document.addEventListener('DOMContentLoaded',stickyNavigation);window.addEventListener('scroll',stickyNavigation);var vh=window.innerHeight*0.01;document.documentElement.style.setProperty('--vh',`${vh}px`);window.addEventListener('resize',()=>{var vh=window.innerHeight*0.01;document.documentElement.style.setProperty('--vh',`${vh}px`);});function dropdownNav(){var navbarNav=document.querySelector('.navbar-nav');var navLinks=[].slice.call(navbarNav.querySelectorAll('[aria-haspopup="true"]'));function closeDropdown(){var openDropdowns=navbarNav.getElementsByClassName('open');var activeLink=navbarNav.querySelector('[aria-expanded="true"]');if(typeof(activeLink)!='undefined'&&activeLink!=null){while(openDropdowns.length){openDropdowns[0].classList.remove("open");}
activeLink.setAttribute('aria-expanded',false);}}
navLinks.map((link)=>{var thisItem=link.parentNode;var thisDropdown=thisItem.querySelector('.navbar-dropdown');var dropdownClose=thisDropdown.querySelector('.js-dropdown-close');var eventMenuAction='click';function openMenu(){navbarNav.classList.add("open");thisDropdown.classList.add('open');link.setAttribute('aria-expanded',true);}
function closeMenu(){thisDropdown.classList.remove('open');link.setAttribute('aria-expanded',false);navbarNav.classList.remove("open");}
if(window.matchMedia('(min-width: 960px)').matches){eventMenuAction='mouseover';}else{eventMenuAction='click';}
link.addEventListener(eventMenuAction,(e)=>{e.preventDefault();closeDropdown();openMenu();});if(window.matchMedia('(min-width: 960px)').matches){thisDropdown.addEventListener('mouseleave',(e)=>{closeMenu();});}
dropdownClose.addEventListener('click',(e)=>{e.preventDefault();closeMenu();});thisItem.addEventListener('mouseleave',(e)=>{closeDropdown();});});document.addEventListener("click",function(e){if(e.target!==navbarNav&&!navbarNav.contains(e.target)){closeDropdown();}});}
dropdownNav();function toggleMenu(){var siteNav=document.querySelector('.navbar');var toggleButton=document.querySelector('.js-toggle-menu');toggleButton.addEventListener('click',(e)=>{e.preventDefault();var navHeight=document.getElementById('site-navbar').offsetHeight;var scrollTop=document.querySelector('.page__content').offsetTop;var Yscroll=0;if(window.scrollY<scrollTop){Yscroll=window.scrollY;}else{Yscroll=window.scrollY-navHeight;}
document.body.classList.toggle('sticky-nav');if(siteNav.classList.contains('open')){siteNav.classList.remove('open');toggleButton.setAttribute('aria-expanded',false);}else{siteNav.classList.add('open');toggleButton.setAttribute('aria-expanded',true);}
siteNav.style.top=Yscroll+"px";});}
toggleMenu();function closeNavbar(){var closeButton=document.querySelector('.js-close-navbar');var toggleButton=document.querySelector('.js-toggle-menu');var siteNav=document.querySelector('.navbar');closeButton.addEventListener('click',(e)=>{e.preventDefault();document.body.classList.toggle('sticky-nav');if(siteNav.classList.contains('open')){siteNav.classList.remove('open');toggleButton.setAttribute('aria-expanded',false);}else{siteNav.classList.add('open');toggleButton.setAttribute('aria-expanded',true);}
siteNav.style.top=null;});}
closeNavbar();window.addEventListener('resize',function(){dropdownNav();if(window.matchMedia('(min-width: 960px)').matches){document.querySelector('.js-toggle-menu').setAttribute('aria-expanded',false);if(document.querySelector('.site-nav')){document.querySelector('.site-nav').classList.remove('open');}
document.body.classList.remove('sticky-nav');}});function toggleSearch(){var toggleButton=document.querySelector('.js-toggle-search');var siteSearch=document.querySelector('.site-header-search');toggleButton.addEventListener('click',(e)=>{e.preventDefault();if(siteSearch.classList.contains('open')){siteSearch.classList.remove('open');toggleButton.setAttribute('aria-expanded',false);}else{siteSearch.classList.add('open');toggleButton.setAttribute('aria-expanded',true);siteSearch.querySelector('.site-header-search-form-input').focus();}});}
toggleSearch();let topbar=document.querySelector('.site-topbar');let cityPopup=document.querySelector('.city-popup');let toggleCity=document.querySelector('.js-toggle-city');let popupCityClose=document.querySelector('.js-city-popup-close');let f_popupCityClose=function(){toggleCity.classList.remove('open');cityPopup.classList.remove('active');}
toggleCity.addEventListener('click',(e)=>{e.preventDefault();toggleCity.classList.toggle('open');toggleCity.classList.contains('open')?cityPopup.classList.add('active'):cityPopup.classList.remove('active');});popupCityClose.addEventListener('click',(e)=>{e.preventDefault();f_popupCityClose();});let cityRadios=[].slice.call(cityPopup.querySelectorAll('[name="city"]'));cityRadios.map((radio)=>{radio.addEventListener('change',function(e){let cityName=radio.dataset.name;let cityPhone=radio.dataset.phone;let cityPhoneLink=cityPhone.replace(/[^+\d]+/g,"");document.cookie="CITY_GEO_BASE_user="+encodeURIComponent(cityName)+"; path=/; max-age=86400";toggleCity.querySelector('.site-topbar-city-name').innerHTML=cityName;topbar.querySelector('.site-topbar-phone-button').setAttribute('href','tel:'+cityPhoneLink);topbar.querySelector('.site-topbar-phone-num').innerHTML=cityPhone;$("body").trigger("location:change");setTimeout(function(){f_popupCityClose();},150);});});